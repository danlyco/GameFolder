{
  "{\"sourceRoot\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\\\\src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\",\"filename\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\\\\src\\\\game.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\",\"plugins\":[],\"presets\":[]}:7.7.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Dylan\\Projects\\GameFolder2\\src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Dylan\\Projects\\GameFolder2",
      "filename": "C:\\Users\\Dylan\\Projects\\GameFolder2\\src\\game.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Dylan\\Projects\\GameFolder2",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Dylan\\Projects\\GameFolder2\\src\\game.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Dylan\\Projects\\GameFolder2\\src\\game.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Dylan\\Projects\\GameFolder2\\src",
        "sourceFileName": "game.js"
      }
    },
    "ast": null,
    "code": "class Observable {\n  constructor() {\n    this._listeners = [];\n  }\n\n  initProperties() {\n    for (let key of Object.keys(this)) {\n      const value = this[key];\n      if (['_listeners', 'dispatch'].includes(key)) continue;\n      Object.defineProperty(this, key, {\n        get: () => this[`_${key}`],\n        set: newValue => {\n          this[`_${key}`] = newValue;\n          this.dispatch();\n        }\n      });\n\n      if (value instanceof Observable) {\n        this[key].onChange(this.dispatch.bind(this));\n      }\n    }\n  } // onchange\n\n\n  onChange(listener) {\n    this._listeners.push(listener);\n  }\n\n  dispatch() {\n    for (let listener of this._listeners) {\n      if (typeof listener === 'function') listener(this);\n    }\n  }\n\n}\n\nclass Positionable extends Observable {\n  constructor(x, y) {\n    super();\n    this._x = x;\n    this._y = y;\n  }\n\n  setTile(x, y) {\n    this._x = x;\n    this._y = y;\n  }\n\n}\n\nclass Tile extends Positionable {\n  constructor(x, y) {\n    super(x, y);\n    this._hasPlayer = 0;\n  }\n\n  getPos() {\n    return [this._x, this._y];\n  }\n\n  isObstacle() {\n    if (this instanceof Obstacle) {\n      return true;\n    }\n  }\n\n  isEmpty() {\n    if (this instanceof EmptyTile) {\n      return true;\n    }\n  }\n\n  hasPlayer() {\n    for (let player of Game.players) {\n      if (this._x == player.char._x && this._y == player.char._y) {\n        return true;\n      }\n    }\n  }\n\n}\n\nclass EmptyTile extends Tile {\n  constructor(x, y) {\n    super(x, y);\n    this._type = 'Empty';\n    this._reachable = 1;\n    this._hasItem = [0];\n  }\n\n  set reachable(newVal) {\n    this._reachable = newVal;\n  }\n\n  get reachable() {\n    return this._reachable;\n  }\n\n}\n\nclass Escape extends Tile {\n  constructor(x, y) {\n    super(x, y);\n    this._type = 'Escape';\n  }\n\n}\n\nclass Obstacle extends Tile {\n  constructor(x, y) {\n    super(x, y);\n    this._type = 'Obstacle';\n    this._reachable = 0;\n  }\n\n}\n\nclass Barrel extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'Barrel';\n  }\n\n}\n\nclass BarbedWire extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'BarbedWire';\n  }\n\n}\n\nclass Woodbox extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'Woodbox';\n  }\n\n}\n\nclass PlayerCase extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'Barrel';\n  }\n\n}\n\nclass Board {\n  constructor(maxTiles) {\n    this.tiles = [];\n    this.lineOfTiles = Math.floor(Math.sqrt(maxTiles));\n\n    for (let y = 0; y < this.lineOfTiles; ++y) {\n      for (let x = 0; x < this.lineOfTiles; ++x) {\n        let randomTileGenerator = Math.random();\n\n        if (randomTileGenerator < 0.8) {\n          this.tiles.push(new EmptyTile(x, y));\n        } else {\n          let randomObstacleGenerator = Math.random();\n\n          if (randomObstacleGenerator < 0.33) {\n            this.tiles.push(new Barrel(x, y));\n          } else if (randomObstacleGenerator < 0.66) {\n            this.tiles.push(new BarbedWire(x, y));\n          } else if (randomObstacleGenerator <= 1) {\n            this.tiles.push(new Woodbox(x, y));\n          }\n        }\n      }\n    }\n  }\n\n  getTile(x, y) {\n    for (let elem of this.tiles) {\n      if (elem._x == x && elem._y == y) {\n        return elem;\n      }\n    }\n  }\n\n}\n\nclass Movable extends Positionable {\n  constructor(x, y) {\n    super(x, y);\n    this.steps = [];\n  }\n\n  move(x, y) {\n    console.info(this._x);\n    console.info(x);\n\n    if (this._x != x) {\n      this.movementPoint -= Math.abs(x - this._x);\n      console.log('PM :' + this.movementPoint);\n    } else if (this._y != y) {\n      this.movementPoint -= Math.abs(y - this._y);\n    }\n\n    this.setTile(x, y);\n  }\n\n} // Character superclass\n\n\nclass Character extends Movable {\n  constructor(x, y) {\n    super(x, y);\n    this._equipedItem = {};\n    this.initProperties();\n  }\n\n  get movementPoint() {\n    return this._movementPoint;\n  }\n\n  set movementPoint(newVal) {\n    this._movementPoint = newVal;\n  }\n\n  get equipedItem() {\n    return this._equipedItem;\n  }\n\n  set equipedItem(newVal) {\n    this._equipedItem = Game.items[newVal];\n  }\n\n  getTile() {\n    return this._x + this._y * Math.floor(Math.sqrt(Game.board.tiles.length));\n  }\n\n  setTile(x, y) {\n    if (this._x != undefined && this._y != undefined) Game.board.getTile(this._x, this._y)._hasPlayer = 0;\n    super.setTile(x, y);\n    let newTile = Game.board.getTile(x, y);\n    newTile._hasPlayer = 1;\n\n    if (newTile._hasItem[0] == 1) {\n      let item = Game.items[newTile._hasItem[1]];\n      const charType = [Survivor, Chaser];\n\n      if (this instanceof charType[item.targetChar - 1]) {\n        this.equipItem(newTile._hasItem[1]);\n        newTile._hasItem = [0];\n        console.info(this.equipedItem);\n      }\n    }\n  }\n\n  move(x, y) {\n    super.move(x, y);\n    this.setTile(x, y);\n  }\n\n  equipItem(newItem) {\n    this.equipedItem = newItem;\n  }\n\n}\n\nclass Survivor extends Character {\n  constructor(x, y) {\n    super(x, y);\n    this._movementPoint = 3;\n    this._equipedItem = {\n      name: 'Poings'\n    };\n    this._health = 100;\n  }\n\n}\n\nclass Chaser extends Character {\n  constructor(x, y) {\n    super(x, y);\n    this._movementPoint = 2;\n    this._equipedItem = {\n      name: 'Planche'\n    };\n  }\n\n} // Logic\n\n\nclass Player {\n  constructor(number, desiredChar) {\n    this.number = number;\n\n    if (desiredChar == 1) {\n      this.char = new Survivor(4, 3);\n    } else {\n      this.char = new Chaser(2, 1);\n    }\n  }\n\n}\n\nclass Item {\n  constructor(name, type, amount, targetChar) {\n    this.itemsType = ['Damage', 'Healing', 'Mover', 'Boost'];\n    this.name = name;\n    this.type = this.itemsType[type];\n    this.amount = amount;\n    this.targetChar = targetChar;\n\n    switch (type) {\n      case 0:\n        this.desc = `Occasionne ${this.amount} de dommages.`;\n        break;\n\n      case 1:\n        this.desc = `Soigne ${this.amount} de points de vie.`;\n        break;\n\n      case 2:\n        switch (targetChar) {\n          case 1:\n            this.desc = `Repousse de ${this.amount} case.`;\n            break;\n\n          case 2:\n            this.desc = `Attire de ${this.amount} case.`;\n            break;\n\n          default:\n            console.error('Le personnage ciblÃ© est incorrect');\n            break;\n        }\n\n        ;\n        break;\n\n      case 3:\n        this.desc = `Augmente de ${this.amount} les points de mouvement du personnage.`;\n        break;\n\n      default:\n        console.error('Le type d\\'item est incorrect');\n    }\n\n    ;\n\n    switch (targetChar) {\n      case 1:\n        this.descChar = `<span class='tooltiptext--survivor'>Pour Survivant.</span>`;\n        break;\n\n      case 2:\n        this.descChar = `<span class='tooltiptext--chaser'>Pour Chaser.</span>`;\n        break;\n\n      default:\n        break;\n    }\n  }\n\n}\n\nclass GameManager {\n  constructor() {\n    this.players = [new Player(1, 1), new Player(2, 2)];\n    this.items = [new Item('Machette', 0, 20, 2), new Item('Hachoir', 0, 10, 2), new Item('Piege', 0, 15, 2), new Item('Grappin', 2, 1, 2), new Item('Skate', 3, 1, 1), new Item('Lance-pierre', 2, 1, 1), new Item('Bandages', 1, 10, 1)];\n    this.turn = 1;\n    this.totalTurn = 0;\n    this.board = new Board(49);\n    this.activePlayer = 0;\n  }\n\n  playerSpawn() {\n    for (let elem of this.players) {\n      let randomTile = Math.floor(Math.random() * this.board.tiles.length);\n\n      while (this.board.tiles[randomTile].reachable === 0 || this.board.tiles[randomTile] instanceof Obstacle) {\n        randomTile = Math.floor(Math.random() * this.board.tiles.length);\n      }\n\n      console.info(this.board.tiles[randomTile].reachable);\n      elem.char.setTile(this.board.tiles[randomTile].getPos()[0], this.board.tiles[randomTile].getPos()[1]);\n      this.board.tiles[randomTile].reachable = 0;\n    }\n  }\n\n  itemSpawn() {\n    for (let i = 0; i < 8; ++i) {\n      let randomTile = Math.floor(Math.random() * this.board.tiles.length);\n\n      while (this.board.tiles[randomTile] instanceof Obstacle) {\n        randomTile = Math.floor(Math.random() * this.board.tiles.length);\n      }\n\n      while (this.board.tiles[randomTile]._hasPlayer == 1) {\n        randomTile = Math.floor(Math.random() * this.board.tiles.length);\n      }\n\n      let randomItem = Math.floor(Math.random() * this.items.length);\n      this.board.tiles[randomTile]._hasItem = [1, randomItem];\n    }\n  }\n\n  nextTurn() {\n    // TODO select first player based on character\n    // set active player each turn\n    // first player is the one with Adam\n    this.turn++;\n\n    if (this.turn % 2 == 0) {\n      this.totalTurn = turn / 2;\n    }\n  }\n\n  getPossibleMoves() {\n    this.removePossibleMoves();\n    let activePlayerChar = this.players[this.activePlayer].char;\n    this.possibleBottomMovesTiles = [];\n    this.possibleTopMovesTiles = [];\n    this.possibleLeftMovesTiles = [];\n    this.possibleRightMovesTiles = [];\n    this.possibleMovesIterator = [this.possibleBottomMovesTiles, this.possibleRightMovesTiles, this.possibleLeftMovesTiles, this.possibleTopMovesTiles];\n\n    for (let elem of this.possibleMovesIterator) {\n      for (let i = 1; i <= activePlayerChar.movementPoint; i++) {\n        if (elem[i - 1] instanceof Obstacle || elem[i - 2] instanceof Obstacle) continue;\n        if (elem[i - 1] instanceof EmptyTile && elem[i - 1]._hasPlayer == 1 || elem[i - 2] instanceof EmptyTile && elem[i - 2]._hasPlayer == 1) continue;\n\n        switch (elem) {\n          case this.possibleBottomMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\n            break;\n\n          case this.possibleTopMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\n            break;\n\n          case this.possibleLeftMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\n            break;\n\n          case this.possibleRightMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\n            break;\n        }\n      }\n    } // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleBottomMovesTiles[i-1] instanceof Obstacle || this.possibleBottomMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleBottomMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\n    // }\n    // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleTopMovesTiles[i-1] instanceof Obstacle || this.possibleTopMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleTopMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\n    // }\n    // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleRightMovesTiles[i-1] instanceof Obstacle || this.possibleRightMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleRightMovesTiles[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\n    // }\n    // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleLeftMovesTiles[i-1] instanceof Obstacle || this.possibleLeftMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleLeftMovesTiles[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\n    // }\n\n\n    this.possibleMovesTiles = [...this.possibleBottomMovesTiles, ...this.possibleLeftMovesTiles, ...this.possibleRightMovesTiles, ...this.possibleTopMovesTiles];\n\n    for (let tile of this.possibleMovesTiles) {\n      if (tile instanceof EmptyTile) if (tile._hasPlayer != 1) {\n        tile.reachable = 1;\n      }\n    }\n\n    ;\n  }\n\n  removePossibleMoves() {\n    for (let tile in this.board.tiles) {\n      if (this.board.tiles[tile].reachable == 1) {\n        this.board.tiles[tile].reachable = 0;\n      }\n    }\n  }\n\n}\n\nlet Game = new GameManager();\nexport { Game };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWUuanMiXSwibmFtZXMiOlsiT2JzZXJ2YWJsZSIsImNvbnN0cnVjdG9yIiwiX2xpc3RlbmVycyIsImluaXRQcm9wZXJ0aWVzIiwia2V5IiwiT2JqZWN0Iiwia2V5cyIsInZhbHVlIiwiaW5jbHVkZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsInNldCIsIm5ld1ZhbHVlIiwiZGlzcGF0Y2giLCJvbkNoYW5nZSIsImJpbmQiLCJsaXN0ZW5lciIsInB1c2giLCJQb3NpdGlvbmFibGUiLCJ4IiwieSIsIl94IiwiX3kiLCJzZXRUaWxlIiwiVGlsZSIsIl9oYXNQbGF5ZXIiLCJnZXRQb3MiLCJpc09ic3RhY2xlIiwiT2JzdGFjbGUiLCJpc0VtcHR5IiwiRW1wdHlUaWxlIiwiaGFzUGxheWVyIiwicGxheWVyIiwiR2FtZSIsInBsYXllcnMiLCJjaGFyIiwiX3R5cGUiLCJfcmVhY2hhYmxlIiwiX2hhc0l0ZW0iLCJyZWFjaGFibGUiLCJuZXdWYWwiLCJFc2NhcGUiLCJCYXJyZWwiLCJfbW9kZWwiLCJCYXJiZWRXaXJlIiwiV29vZGJveCIsIlBsYXllckNhc2UiLCJCb2FyZCIsIm1heFRpbGVzIiwidGlsZXMiLCJsaW5lT2ZUaWxlcyIsIk1hdGgiLCJmbG9vciIsInNxcnQiLCJyYW5kb21UaWxlR2VuZXJhdG9yIiwicmFuZG9tIiwicmFuZG9tT2JzdGFjbGVHZW5lcmF0b3IiLCJnZXRUaWxlIiwiZWxlbSIsIk1vdmFibGUiLCJzdGVwcyIsIm1vdmUiLCJjb25zb2xlIiwiaW5mbyIsIm1vdmVtZW50UG9pbnQiLCJhYnMiLCJsb2ciLCJDaGFyYWN0ZXIiLCJfZXF1aXBlZEl0ZW0iLCJfbW92ZW1lbnRQb2ludCIsImVxdWlwZWRJdGVtIiwiaXRlbXMiLCJib2FyZCIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm5ld1RpbGUiLCJpdGVtIiwiY2hhclR5cGUiLCJTdXJ2aXZvciIsIkNoYXNlciIsInRhcmdldENoYXIiLCJlcXVpcEl0ZW0iLCJuZXdJdGVtIiwibmFtZSIsIl9oZWFsdGgiLCJQbGF5ZXIiLCJudW1iZXIiLCJkZXNpcmVkQ2hhciIsIkl0ZW0iLCJ0eXBlIiwiYW1vdW50IiwiaXRlbXNUeXBlIiwiZGVzYyIsImVycm9yIiwiZGVzY0NoYXIiLCJHYW1lTWFuYWdlciIsInR1cm4iLCJ0b3RhbFR1cm4iLCJhY3RpdmVQbGF5ZXIiLCJwbGF5ZXJTcGF3biIsInJhbmRvbVRpbGUiLCJpdGVtU3Bhd24iLCJpIiwicmFuZG9tSXRlbSIsIm5leHRUdXJuIiwiZ2V0UG9zc2libGVNb3ZlcyIsInJlbW92ZVBvc3NpYmxlTW92ZXMiLCJhY3RpdmVQbGF5ZXJDaGFyIiwicG9zc2libGVCb3R0b21Nb3Zlc1RpbGVzIiwicG9zc2libGVUb3BNb3Zlc1RpbGVzIiwicG9zc2libGVMZWZ0TW92ZXNUaWxlcyIsInBvc3NpYmxlUmlnaHRNb3Zlc1RpbGVzIiwicG9zc2libGVNb3Zlc0l0ZXJhdG9yIiwicG9zc2libGVNb3Zlc1RpbGVzIiwidGlsZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBTixDQUFpQjtBQUNiQyxFQUFBQSxXQUFXLEdBQUc7QUFDVixTQUFLQyxVQUFMLEdBQWtCLEVBQWxCO0FBQ0g7O0FBRURDLEVBQUFBLGNBQWMsR0FBRztBQUNiLFNBQUssSUFBSUMsR0FBVCxJQUFnQkMsTUFBTSxDQUFDQyxJQUFQLENBQVksSUFBWixDQUFoQixFQUFtQztBQUMvQixZQUFNQyxLQUFLLEdBQUcsS0FBS0gsR0FBTCxDQUFkO0FBQ0EsVUFBSSxDQUFDLFlBQUQsRUFBZSxVQUFmLEVBQTJCSSxRQUEzQixDQUFvQ0osR0FBcEMsQ0FBSixFQUE4QztBQUM5Q0MsTUFBQUEsTUFBTSxDQUFDSSxjQUFQLENBQXNCLElBQXRCLEVBQTRCTCxHQUE1QixFQUFpQztBQUM3Qk0sUUFBQUEsR0FBRyxFQUFFLE1BQU0sS0FBTSxJQUFHTixHQUFJLEVBQWIsQ0FEa0I7QUFFN0JPLFFBQUFBLEdBQUcsRUFBR0MsUUFBRCxJQUFjO0FBQ2YsZUFBTSxJQUFHUixHQUFJLEVBQWIsSUFBa0JRLFFB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UjtBQWNIO0FBQ0osS0E3QmMsQ0E4QmY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBSzJGLGtCQUFMLEdBQTBCLENBQUMsR0FBRyxLQUFLTCx3QkFBVCxFQUFtQyxHQUFHLEtBQUtFLHNCQUEzQyxFQUFtRSxHQUFHLEtBQUtDLHVCQUEzRSxFQUFvRyxHQUFHLEtBQUtGLHFCQUE1RyxDQUExQjs7QUFFQSxTQUFLLElBQUlLLElBQVQsSUFBaUIsS0FBS0Qsa0JBQXRCLEVBQTBDO0FBQ3RDLFVBQUlDLElBQUksWUFBWXBGLFNBQXBCLEVBQ0ksSUFBSW9GLElBQUksQ0FBQ3pGLFVBQUwsSUFBbUIsQ0FBdkIsRUFBMEI7QUFDdEJ5RixRQUFBQSxJQUFJLENBQUMzRSxTQUFMLEdBQWlCLENBQWpCO0FBQ0g7QUFDUjs7QUFBQTtBQUNKOztBQUVEbUUsRUFBQUEsbUJBQW1CLEdBQUc7QUFDbEIsU0FBSyxJQUFJUSxJQUFULElBQWlCLEtBQUsxQyxLQUFMLENBQVd2QixLQUE1QixFQUFtQztBQUMvQixVQUFJLEtBQUt1QixLQUFMLENBQVd2QixLQUFYLENBQWlCaUUsSUFBakIsRUFBdUIzRSxTQUF2QixJQUFvQyxDQUF4QyxFQUEyQztBQUN2QyxhQUFLaUMsS0FBTCxDQUFXdkIsS0FBWCxDQUFpQmlFLElBQWpCLEVBQXVCM0UsU0FBdkIsR0FBbUMsQ0FBbkM7QUFDSDtBQUNKO0FBQ0o7O0FBN0hhOztBQStIbEIsSUFBSU4sSUFBSSxHQUFHLElBQUk4RCxXQUFKLEVBQVg7QUFDQSxTQUNJOUQsSUFESiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXER5bGFuXFxQcm9qZWN0c1xcR2FtZUZvbGRlcjJcXHNyYyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIE9ic2VydmFibGUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoWydfbGlzdGVuZXJzJywgJ2Rpc3BhdGNoJ10uaW5jbHVkZXMoa2V5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gdGhpc1tgXyR7a2V5fWBdLFxyXG4gICAgICAgICAgICAgICAgc2V0OiAobmV3VmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW2BfJHtrZXl9YF0gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNba2V5XS5vbkNoYW5nZSh0aGlzLmRpc3BhdGNoLmJpbmQodGhpcykpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb25jaGFuZ2VcclxuICAgIG9uQ2hhbmdlKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BhdGNoKCkge1xyXG4gICAgICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIHRoaXMuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSBsaXN0ZW5lcih0aGlzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUG9zaXRpb25hYmxlIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl94ID0geDtcclxuICAgICAgICB0aGlzLl95ID0geTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUaWxlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLl94ID0geDtcclxuICAgICAgICB0aGlzLl95ID0geTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5jbGFzcyBUaWxlIGV4dGVuZHMgUG9zaXRpb25hYmxlIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9oYXNQbGF5ZXIgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBvcygpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuX3gsIHRoaXMuX3ldO1xyXG4gICAgfVxyXG5cclxuICAgIGlzT2JzdGFjbGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBPYnN0YWNsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbXB0eSgpIHtcclxuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEVtcHR5VGlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFzUGxheWVyKCkge1xyXG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBHYW1lLnBsYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3ggPT0gcGxheWVyLmNoYXIuX3ggJiYgdGhpcy5feSA9PSBwbGF5ZXIuY2hhci5feSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVtcHR5VGlsZSBleHRlbmRzIFRpbGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSAnRW1wdHknO1xyXG4gICAgICAgIHRoaXMuX3JlYWNoYWJsZSA9IDE7XHJcbiAgICAgICAgdGhpcy5faGFzSXRlbSA9IFswXTtcclxuICAgIH1cclxuICAgIHNldCByZWFjaGFibGUobmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fcmVhY2hhYmxlID0gbmV3VmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWFjaGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWNoYWJsZTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXNjYXBlIGV4dGVuZHMgVGlsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9ICdFc2NhcGUnO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBPYnN0YWNsZSBleHRlbmRzIFRpbGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSAnT2JzdGFjbGUnO1xyXG4gICAgICAgIHRoaXMuX3JlYWNoYWJsZSA9IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEJhcnJlbCBleHRlbmRzIE9ic3RhY2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9tb2RlbCA9ICdCYXJyZWwnO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIEJhcmJlZFdpcmUgZXh0ZW5kcyBPYnN0YWNsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fbW9kZWwgPSAnQmFyYmVkV2lyZSc7XHJcblxyXG4gICAgfVxyXG59XHJcbmNsYXNzIFdvb2Rib3ggZXh0ZW5kcyBPYnN0YWNsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fbW9kZWwgPSAnV29vZGJveCc7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQbGF5ZXJDYXNlIGV4dGVuZHMgT2JzdGFjbGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX21vZGVsID0gJ0JhcnJlbCc7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuY2xhc3MgQm9hcmQge1xyXG4gICAgY29uc3RydWN0b3IobWF4VGlsZXMpIHtcclxuICAgICAgICB0aGlzLnRpbGVzID0gW107XHJcbiAgICAgICAgdGhpcy5saW5lT2ZUaWxlcyA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KG1heFRpbGVzKSk7XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmxpbmVPZlRpbGVzOyArK3kpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmxpbmVPZlRpbGVzOyArK3gpIHtcclxuICAgICAgICAgICAgICAgIGxldCByYW5kb21UaWxlR2VuZXJhdG9yID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5kb21UaWxlR2VuZXJhdG9yIDwgMC44KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlcy5wdXNoKG5ldyBFbXB0eVRpbGUoeCwgeSkpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5kb21PYnN0YWNsZUdlbmVyYXRvciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmRvbU9ic3RhY2xlR2VuZXJhdG9yIDwgMC4zMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnB1c2gobmV3IEJhcnJlbCh4LCB5KSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmRvbU9ic3RhY2xlR2VuZXJhdG9yIDwgMC42Nikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnB1c2gobmV3IEJhcmJlZFdpcmUoeCwgeSkpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZG9tT2JzdGFjbGVHZW5lcmF0b3IgPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnB1c2gobmV3IFdvb2Rib3goeCwgeSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFRpbGUoeCwgeSkge1xyXG4gICAgICAgIGZvciAobGV0IGVsZW0gb2YgdGhpcy50aWxlcykge1xyXG4gICAgICAgICAgICBpZiAoZWxlbS5feCA9PSB4ICYmIGVsZW0uX3kgPT0geSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcbmNsYXNzIE1vdmFibGUgZXh0ZW5kcyBQb3NpdGlvbmFibGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuc3RlcHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKHgsIHkpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8odGhpcy5feCk7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKHgpO1xyXG4gICAgICAgIGlmICh0aGlzLl94ICE9IHgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFBvaW50IC09IE1hdGguYWJzKCh4IC0gdGhpcy5feCkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUE0gOicgKyB0aGlzLm1vdmVtZW50UG9pbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5feSAhPSB5KSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRQb2ludCAtPSBNYXRoLmFicygoeSAtIHRoaXMuX3kpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0VGlsZSh4LCB5KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vIENoYXJhY3RlciBzdXBlcmNsYXNzXHJcblxyXG5jbGFzcyBDaGFyYWN0ZXIgZXh0ZW5kcyBNb3ZhYmxlIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9lcXVpcGVkSXRlbSA9IHt9OyBcclxuICAgICAgICB0aGlzLmluaXRQcm9wZXJ0aWVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1vdmVtZW50UG9pbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmVtZW50UG9pbnRcclxuICAgIH1cclxuICAgIHNldCBtb3ZlbWVudFBvaW50KG5ld1ZhbCkge1xyXG4gICAgICAgIHRoaXMuX21vdmVtZW50UG9pbnQgPSBuZXdWYWxcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXF1aXBlZEl0ZW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VxdWlwZWRJdGVtXHJcbiAgICB9XHJcbiAgICBzZXQgZXF1aXBlZEl0ZW0obmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fZXF1aXBlZEl0ZW0gPSBHYW1lLml0ZW1zW25ld1ZhbF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGlsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5feCArICh0aGlzLl95ICogTWF0aC5mbG9vcihNYXRoLnNxcnQoR2FtZS5ib2FyZC50aWxlcy5sZW5ndGgpKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbGUoeCwgeSkge1xyXG4gICAgICAgIGlmICh0aGlzLl94ICE9IHVuZGVmaW5lZCAmJiB0aGlzLl95ICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgR2FtZS5ib2FyZC5nZXRUaWxlKHRoaXMuX3gsIHRoaXMuX3kpLl9oYXNQbGF5ZXIgPSAwO1xyXG4gICAgICAgIHN1cGVyLnNldFRpbGUoeCwgeSk7XHJcbiAgICAgICAgbGV0IG5ld1RpbGUgPSBHYW1lLmJvYXJkLmdldFRpbGUoeCwgeSk7XHJcbiAgICAgICAgbmV3VGlsZS5faGFzUGxheWVyID0gMTtcclxuICAgICAgICBpZihuZXdUaWxlLl9oYXNJdGVtWzBdID09IDEpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IEdhbWUuaXRlbXNbbmV3VGlsZS5faGFzSXRlbVsxXV07XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXJUeXBlID0gW1N1cnZpdm9yLCBDaGFzZXJdO1xyXG4gICAgICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgY2hhclR5cGVbaXRlbS50YXJnZXRDaGFyIC0gMV0pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcEl0ZW0obmV3VGlsZS5faGFzSXRlbVsxXSk7XHJcbiAgICAgICAgICAgICAgICBuZXdUaWxlLl9oYXNJdGVtID0gWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKHRoaXMuZXF1aXBlZEl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKHgsIHkpIHtcclxuICAgICAgICBzdXBlci5tb3ZlKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuc2V0VGlsZSh4LCB5KTtcclxuICAgIH1cclxuXHJcbiAgICBlcXVpcEl0ZW0obmV3SXRlbSl7XHJcbiAgICAgICAgdGhpcy5lcXVpcGVkSXRlbSA9IG5ld0l0ZW07XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmNsYXNzIFN1cnZpdm9yIGV4dGVuZHMgQ2hhcmFjdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9tb3ZlbWVudFBvaW50ID0gMztcclxuICAgICAgICB0aGlzLl9lcXVpcGVkSXRlbSA9IHtuYW1lOiAnUG9pbmdzJ307IFxyXG4gICAgICAgIHRoaXMuX2hlYWx0aCA9IDEwMDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmNsYXNzIENoYXNlciBleHRlbmRzIENoYXJhY3RlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fbW92ZW1lbnRQb2ludCA9IDI7XHJcbiAgICAgICAgdGhpcy5fZXF1aXBlZEl0ZW0gPSB7bmFtZTogJ1BsYW5jaGUnfTsgXHJcblxyXG5cclxuICAgIH1cclxufVxyXG5cclxuLy8gTG9naWNcclxuXHJcbmNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcihudW1iZXIsIGRlc2lyZWRDaGFyKSB7XHJcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XHJcbiAgICAgICAgaWYgKGRlc2lyZWRDaGFyID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFyID0gbmV3IFN1cnZpdm9yKDQsIDMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhciA9IG5ldyBDaGFzZXIoMiwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBJdGVtIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHR5cGUsIGFtb3VudCwgdGFyZ2V0Q2hhcikge1xyXG4gICAgICAgIHRoaXMuaXRlbXNUeXBlID0gWydEYW1hZ2UnLCAnSGVhbGluZycsICdNb3ZlcicsICdCb29zdCddO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy5pdGVtc1R5cGVbdHlwZV07XHJcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XHJcbiAgICAgICAgdGhpcy50YXJnZXRDaGFyID0gdGFyZ2V0Q2hhcjtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXNjID0gYE9jY2FzaW9ubmUgJHt0aGlzLmFtb3VudH0gZGUgZG9tbWFnZXMuYDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2MgPSBgU29pZ25lICR7dGhpcy5hbW91bnR9IGRlIHBvaW50cyBkZSB2aWUuYDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhcmdldENoYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzYyA9IGBSZXBvdXNzZSBkZSAke3RoaXMuYW1vdW50fSBjYXNlLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNjID0gYEF0dGlyZSBkZSAke3RoaXMuYW1vdW50fSBjYXNlLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xlIHBlcnNvbm5hZ2UgY2libMOpIGVzdCBpbmNvcnJlY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzYyA9IGBBdWdtZW50ZSBkZSAke3RoaXMuYW1vdW50fSBsZXMgcG9pbnRzIGRlIG1vdXZlbWVudCBkdSBwZXJzb25uYWdlLmBcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTGUgdHlwZSBkXFwnaXRlbSBlc3QgaW5jb3JyZWN0Jyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN3aXRjaCh0YXJnZXRDaGFyKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNjQ2hhciA9IGA8c3BhbiBjbGFzcz0ndG9vbHRpcHRleHQtLXN1cnZpdm9yJz5Qb3VyIFN1cnZpdmFudC48L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2NDaGFyID0gYDxzcGFuIGNsYXNzPSd0b29sdGlwdGV4dC0tY2hhc2VyJz5Qb3VyIENoYXNlci48L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgR2FtZU1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xyXG4gICAgICAgICAgICBuZXcgUGxheWVyKDEsIDEpLCBuZXcgUGxheWVyKDIsIDIpXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW1xyXG4gICAgICAgICAgICBuZXcgSXRlbSgnTWFjaGV0dGUnLCAwLCAyMCwgMiksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdIYWNob2lyJywgMCwgMTAsIDIpLFxyXG4gICAgICAgICAgICBuZXcgSXRlbSgnUGllZ2UnLCAwLCAxNSwgMiksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdHcmFwcGluJywgMiwgMSwgMiksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdTa2F0ZScsIDMsIDEsIDEpLFxyXG4gICAgICAgICAgICBuZXcgSXRlbSgnTGFuY2UtcGllcnJlJywgMiwgMSwgMSksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdCYW5kYWdlcycsIDEsIDEwLCAxKSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudHVybiA9IDE7XHJcbiAgICAgICAgdGhpcy50b3RhbFR1cm4gPSAwO1xyXG4gICAgICAgIHRoaXMuYm9hcmQgPSBuZXcgQm9hcmQoNDkpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUGxheWVyID0gMDtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwbGF5ZXJTcGF3bigpIHtcclxuICAgICAgICBmb3IgKGxldCBlbGVtIG9mIHRoaXMucGxheWVycykge1xyXG4gICAgICAgICAgICBsZXQgcmFuZG9tVGlsZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYm9hcmQudGlsZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuYm9hcmQudGlsZXNbcmFuZG9tVGlsZV0ucmVhY2hhYmxlID09PSAwIHx8IHRoaXMuYm9hcmQudGlsZXNbcmFuZG9tVGlsZV0gaW5zdGFuY2VvZiBPYnN0YWNsZSkge1xyXG4gICAgICAgICAgICAgICAgcmFuZG9tVGlsZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYm9hcmQudGlsZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8odGhpcy5ib2FyZC50aWxlc1tyYW5kb21UaWxlXS5yZWFjaGFibGUpO1xyXG4gICAgICAgICAgICBlbGVtLmNoYXIuc2V0VGlsZSh0aGlzLmJvYXJkLnRpbGVzW3JhbmRvbVRpbGVdLmdldFBvcygpWzBdLCB0aGlzLmJvYXJkLnRpbGVzW3JhbmRvbVRpbGVdLmdldFBvcygpWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZC50aWxlc1tyYW5kb21UaWxlXS5yZWFjaGFibGUgPSAwO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXRlbVNwYXduKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCByYW5kb21UaWxlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5ib2FyZC50aWxlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5ib2FyZC50aWxlc1tyYW5kb21UaWxlXSBpbnN0YW5jZW9mIE9ic3RhY2xlKSB7XHJcbiAgICAgICAgICAgICAgICByYW5kb21UaWxlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5ib2FyZC50aWxlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmJvYXJkLnRpbGVzW3JhbmRvbVRpbGVdLl9oYXNQbGF5ZXIgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmFuZG9tVGlsZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYm9hcmQudGlsZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHJhbmRvbUl0ZW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLml0ZW1zLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmQudGlsZXNbcmFuZG9tVGlsZV0uX2hhc0l0ZW0gPSBbMSwgcmFuZG9tSXRlbV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5leHRUdXJuKCkge1xyXG4gICAgICAgIC8vIFRPRE8gc2VsZWN0IGZpcnN0IHBsYXllciBiYXNlZCBvbiBjaGFyYWN0ZXJcclxuICAgICAgICAvLyBzZXQgYWN0aXZlIHBsYXllciBlYWNoIHR1cm5cclxuICAgICAgICAvLyBmaXJzdCBwbGF5ZXIgaXMgdGhlIG9uZSB3aXRoIEFkYW1cclxuICAgICAgICB0aGlzLnR1cm4rKztcclxuICAgICAgICBpZiAodGhpcy50dXJuICUgMiA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxUdXJuID0gdHVybiAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFBvc3NpYmxlTW92ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVQb3NzaWJsZU1vdmVzKCk7XHJcbiAgICAgICAgbGV0IGFjdGl2ZVBsYXllckNoYXIgPSB0aGlzLnBsYXllcnNbdGhpcy5hY3RpdmVQbGF5ZXJdLmNoYXI7XHJcbiAgICAgICAgdGhpcy5wb3NzaWJsZUJvdHRvbU1vdmVzVGlsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnBvc3NpYmxlVG9wTW92ZXNUaWxlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucG9zc2libGVSaWdodE1vdmVzVGlsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnBvc3NpYmxlTW92ZXNJdGVyYXRvciA9IFt0aGlzLnBvc3NpYmxlQm90dG9tTW92ZXNUaWxlcywgdGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlcywgdGhpcy5wb3NzaWJsZUxlZnRNb3Zlc1RpbGVzLCB0aGlzLnBvc3NpYmxlVG9wTW92ZXNUaWxlc107XHJcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiB0aGlzLnBvc3NpYmxlTW92ZXNJdGVyYXRvcikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBhY3RpdmVQbGF5ZXJDaGFyLm1vdmVtZW50UG9pbnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1baSAtIDFdIGluc3RhbmNlb2YgT2JzdGFjbGUgfHwgZWxlbVtpIC0gMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtW2kgLSAxXSBpbnN0YW5jZW9mIEVtcHR5VGlsZSAmJiBlbGVtW2kgLSAxXS5faGFzUGxheWVyID09IDEgfHwgZWxlbVtpIC0gMl0gaW5zdGFuY2VvZiBFbXB0eVRpbGUgJiYgZWxlbVtpIC0gMl0uX2hhc1BsYXllciA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLnBvc3NpYmxlQm90dG9tTW92ZXNUaWxlczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94LCBhY3RpdmVQbGF5ZXJDaGFyLl95ICsgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1baV0gPSB0aGlzLmJvYXJkLmdldFRpbGUoYWN0aXZlUGxheWVyQ2hhci5feCwgYWN0aXZlUGxheWVyQ2hhci5feSAtIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94IC0gaSwgYWN0aXZlUGxheWVyQ2hhci5feSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94ICsgaSwgYWN0aXZlUGxheWVyQ2hhci5feSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IGFjdGl2ZVBsYXllckNoYXIubW92ZW1lbnRQb2ludDsgaSsrKXtcclxuICAgICAgICAvLyAgICAgaWYoIHRoaXMucG9zc2libGVCb3R0b21Nb3Zlc1RpbGVzW2ktMV0gaW5zdGFuY2VvZiBPYnN0YWNsZSB8fCB0aGlzLnBvc3NpYmxlQm90dG9tTW92ZXNUaWxlc1tpLTJdIGluc3RhbmNlb2YgT2JzdGFjbGUpXHJcbiAgICAgICAgLy8gICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMucG9zc2libGVCb3R0b21Nb3Zlc1RpbGVzW2ldID0gdGhpcy5ib2FyZC5nZXRUaWxlKGFjdGl2ZVBsYXllckNoYXIuX3gsIGFjdGl2ZVBsYXllckNoYXIuX3kgKyBpKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDE7IGkgPD0gYWN0aXZlUGxheWVyQ2hhci5tb3ZlbWVudFBvaW50OyBpKyspe1xyXG4gICAgICAgIC8vICAgICBpZiggdGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXNbaS0xXSBpbnN0YW5jZW9mIE9ic3RhY2xlIHx8IHRoaXMucG9zc2libGVUb3BNb3Zlc1RpbGVzW2ktMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAvLyAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXNbaV0gPSB0aGlzLmJvYXJkLmdldFRpbGUoYWN0aXZlUGxheWVyQ2hhci5feCwgYWN0aXZlUGxheWVyQ2hhci5feSAtIGkpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBmb3IgKGxldCBpID0gMTsgaSA8PSBhY3RpdmVQbGF5ZXJDaGFyLm1vdmVtZW50UG9pbnQ7IGkrKyl7XHJcbiAgICAgICAgLy8gICAgIGlmKCB0aGlzLnBvc3NpYmxlUmlnaHRNb3Zlc1RpbGVzW2ktMV0gaW5zdGFuY2VvZiBPYnN0YWNsZSB8fCB0aGlzLnBvc3NpYmxlUmlnaHRNb3Zlc1RpbGVzW2ktMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAvLyAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlc1tpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94ICsgaSwgYWN0aXZlUGxheWVyQ2hhci5feSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IGFjdGl2ZVBsYXllckNoYXIubW92ZW1lbnRQb2ludDsgaSsrKXtcclxuICAgICAgICAvLyAgICAgaWYoIHRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlc1tpLTFdIGluc3RhbmNlb2YgT2JzdGFjbGUgfHwgdGhpcy5wb3NzaWJsZUxlZnRNb3Zlc1RpbGVzW2ktMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAvLyAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5wb3NzaWJsZUxlZnRNb3Zlc1RpbGVzW2ldID0gdGhpcy5ib2FyZC5nZXRUaWxlKGFjdGl2ZVBsYXllckNoYXIuX3ggLSBpLCBhY3RpdmVQbGF5ZXJDaGFyLl95KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5wb3NzaWJsZU1vdmVzVGlsZXMgPSBbLi4udGhpcy5wb3NzaWJsZUJvdHRvbU1vdmVzVGlsZXMsIC4uLnRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlcywgLi4udGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlcywgLi4udGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXNdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB0aWxlIG9mIHRoaXMucG9zc2libGVNb3Zlc1RpbGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aWxlIGluc3RhbmNlb2YgRW1wdHlUaWxlKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRpbGUuX2hhc1BsYXllciAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5yZWFjaGFibGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlUG9zc2libGVNb3ZlcygpIHtcclxuICAgICAgICBmb3IgKGxldCB0aWxlIGluIHRoaXMuYm9hcmQudGlsZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmQudGlsZXNbdGlsZV0ucmVhY2hhYmxlID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQudGlsZXNbdGlsZV0ucmVhY2hhYmxlID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5sZXQgR2FtZSA9IG5ldyBHYW1lTWFuYWdlcigpO1xyXG5leHBvcnQge1xyXG4gICAgR2FtZVxyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "game.js"
      ],
      "names": [
        "Observable",
        "constructor",
        "_listeners",
        "initProperties",
        "key",
        "Object",
        "keys",
        "value",
        "includes",
        "defineProperty",
        "get",
        "set",
        "newValue",
        "dispatch",
        "onChange",
        "bind",
        "listener",
        "push",
        "Positionable",
        "x",
        "y",
        "_x",
        "_y",
        "setTile",
        "Tile",
        "_hasPlayer",
        "getPos",
        "isObstacle",
        "Obstacle",
        "isEmpty",
        "EmptyTile",
        "hasPlayer",
        "player",
        "Game",
        "players",
        "char",
        "_type",
        "_reachable",
        "_hasItem",
        "reachable",
        "newVal",
        "Escape",
        "Barrel",
        "_model",
        "BarbedWire",
        "Woodbox",
        "PlayerCase",
        "Board",
        "maxTiles",
        "tiles",
        "lineOfTiles",
        "Math",
        "floor",
        "sqrt",
        "randomTileGenerator",
        "random",
        "randomObstacleGenerator",
        "getTile",
        "elem",
        "Movable",
        "steps",
        "move",
        "console",
        "info",
        "movementPoint",
        "abs",
        "log",
        "Character",
        "_equipedItem",
        "_movementPoint",
        "equipedItem",
        "items",
        "board",
        "length",
        "undefined",
        "newTile",
        "item",
        "charType",
        "Survivor",
        "Chaser",
        "targetChar",
        "equipItem",
        "newItem",
        "name",
        "_health",
        "Player",
        "number",
        "desiredChar",
        "Item",
        "type",
        "amount",
        "itemsType",
        "desc",
        "error",
        "descChar",
        "GameManager",
        "turn",
        "totalTurn",
        "activePlayer",
        "playerSpawn",
        "randomTile",
        "itemSpawn",
        "i",
        "randomItem",
        "nextTurn",
        "getPossibleMoves",
        "removePossibleMoves",
        "activePlayerChar",
        "possibleBottomMovesTiles",
        "possibleTopMovesTiles",
        "possibleLeftMovesTiles",
        "possibleRightMovesTiles",
        "possibleMovesIterator",
        "possibleMovesTiles",
        "tile"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Dylan\\Projects\\GameFolder2\\src",
      "sourcesContent": [
        "class Observable {\r\n    constructor() {\r\n        this._listeners = [];\r\n    }\r\n\r\n    initProperties() {\r\n        for (let key of Object.keys(this)) {\r\n            const value = this[key];\r\n            if (['_listeners', 'dispatch'].includes(key)) continue;\r\n            Object.defineProperty(this, key, {\r\n                get: () => this[`_${key}`],\r\n                set: (newValue) => {\r\n                    this[`_${key}`] = newValue;\r\n                    this.dispatch()\r\n                }\r\n            })\r\n\r\n            if (value instanceof Observable) {\r\n                this[key].onChange(this.dispatch.bind(this))\r\n            }\r\n        }\r\n    }\r\n\r\n    // onchange\r\n    onChange(listener) {\r\n        this._listeners.push(listener);\r\n    }\r\n\r\n    dispatch() {\r\n        for (let listener of this._listeners) {\r\n            if (typeof listener === 'function') listener(this)\r\n        }\r\n    }\r\n}\r\n\r\nclass Positionable extends Observable {\r\n    constructor(x, y) {\r\n        super();\r\n        this._x = x;\r\n        this._y = y;\r\n    }\r\n\r\n    setTile(x, y) {\r\n        this._x = x;\r\n        this._y = y;\r\n    }\r\n}\r\n\r\n\r\n\r\nclass Tile extends Positionable {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._hasPlayer = 0;\r\n    }\r\n\r\n    getPos() {\r\n        return [this._x, this._y];\r\n    }\r\n\r\n    isObstacle() {\r\n        if (this instanceof Obstacle) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    isEmpty() {\r\n        if (this instanceof EmptyTile) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    hasPlayer() {\r\n        for (let player of Game.players) {\r\n            if (this._x == player.char._x && this._y == player.char._y) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass EmptyTile extends Tile {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._type = 'Empty';\r\n        this._reachable = 1;\r\n        this._hasItem = [0];\r\n    }\r\n    set reachable(newVal) {\r\n        this._reachable = newVal;\r\n    }\r\n\r\n    get reachable() {\r\n        return this._reachable;\r\n    }\r\n}\r\n\r\nclass Escape extends Tile {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._type = 'Escape';\r\n    }\r\n}\r\n\r\nclass Obstacle extends Tile {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._type = 'Obstacle';\r\n        this._reachable = 0;\r\n    }\r\n}\r\n\r\nclass Barrel extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'Barrel';\r\n    }\r\n}\r\nclass BarbedWire extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'BarbedWire';\r\n\r\n    }\r\n}\r\nclass Woodbox extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'Woodbox';\r\n\r\n    }\r\n}\r\n\r\nclass PlayerCase extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'Barrel';\r\n\r\n    }\r\n}\r\n\r\n\r\nclass Board {\r\n    constructor(maxTiles) {\r\n        this.tiles = [];\r\n        this.lineOfTiles = Math.floor(Math.sqrt(maxTiles));\r\n        for (let y = 0; y < this.lineOfTiles; ++y) {\r\n            for (let x = 0; x < this.lineOfTiles; ++x) {\r\n                let randomTileGenerator = Math.random();\r\n                if (randomTileGenerator < 0.8) {\r\n                    this.tiles.push(new EmptyTile(x, y))\r\n                } else {\r\n                    let randomObstacleGenerator = Math.random();\r\n                    \r\n                    if (randomObstacleGenerator < 0.33) {\r\n                        this.tiles.push(new Barrel(x, y))\r\n                    } else if (randomObstacleGenerator < 0.66) {\r\n                        this.tiles.push(new BarbedWire(x, y))\r\n\r\n                    } else if (randomObstacleGenerator <= 1) {\r\n                        this.tiles.push(new Woodbox(x, y))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getTile(x, y) {\r\n        for (let elem of this.tiles) {\r\n            if (elem._x == x && elem._y == y) {\r\n                return elem;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nclass Movable extends Positionable {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this.steps = [];\r\n    }\r\n\r\n    move(x, y) {\r\n        console.info(this._x);\r\n        console.info(x);\r\n        if (this._x != x) {\r\n            this.movementPoint -= Math.abs((x - this._x));\r\n            console.log('PM :' + this.movementPoint);\r\n        } else if (this._y != y) {\r\n            this.movementPoint -= Math.abs((y - this._y));\r\n\r\n        }\r\n        this.setTile(x, y)\r\n    }\r\n\r\n}\r\n\r\n\r\n// Character superclass\r\n\r\nclass Character extends Movable {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._equipedItem = {}; \r\n        this.initProperties();\r\n    }\r\n\r\n    get movementPoint() {\r\n        return this._movementPoint\r\n    }\r\n    set movementPoint(newVal) {\r\n        this._movementPoint = newVal\r\n    }\r\n\r\n    get equipedItem() {\r\n        return this._equipedItem\r\n    }\r\n    set equipedItem(newVal) {\r\n        this._equipedItem = Game.items[newVal];\r\n    }\r\n\r\n    getTile() {\r\n        return this._x + (this._y * Math.floor(Math.sqrt(Game.board.tiles.length)));\r\n\r\n    }\r\n\r\n    setTile(x, y) {\r\n        if (this._x != undefined && this._y != undefined)\r\n            Game.board.getTile(this._x, this._y)._hasPlayer = 0;\r\n        super.setTile(x, y);\r\n        let newTile = Game.board.getTile(x, y);\r\n        newTile._hasPlayer = 1;\r\n        if(newTile._hasItem[0] == 1){\r\n            let item = Game.items[newTile._hasItem[1]];\r\n            const charType = [Survivor, Chaser];\r\n            if(this instanceof charType[item.targetChar - 1]){\r\n                this.equipItem(newTile._hasItem[1]);\r\n                newTile._hasItem = [0];\r\n                console.info(this.equipedItem);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    move(x, y) {\r\n        super.move(x, y);\r\n        this.setTile(x, y);\r\n    }\r\n\r\n    equipItem(newItem){\r\n        this.equipedItem = newItem;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nclass Survivor extends Character {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._movementPoint = 3;\r\n        this._equipedItem = {name: 'Poings'}; \r\n        this._health = 100;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nclass Chaser extends Character {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._movementPoint = 2;\r\n        this._equipedItem = {name: 'Planche'}; \r\n\r\n\r\n    }\r\n}\r\n\r\n// Logic\r\n\r\nclass Player {\r\n    constructor(number, desiredChar) {\r\n        this.number = number;\r\n        if (desiredChar == 1) {\r\n            this.char = new Survivor(4, 3);\r\n        } else {\r\n            this.char = new Chaser(2, 1);\r\n        }\r\n    }\r\n}\r\n\r\nclass Item {\r\n    constructor(name, type, amount, targetChar) {\r\n        this.itemsType = ['Damage', 'Healing', 'Mover', 'Boost'];\r\n        this.name = name;\r\n        this.type = this.itemsType[type];\r\n        this.amount = amount;\r\n        this.targetChar = targetChar;\r\n        switch (type) {\r\n            case 0:\r\n                this.desc = `Occasionne ${this.amount} de dommages.`;\r\n                break;\r\n            case 1:\r\n                this.desc = `Soigne ${this.amount} de points de vie.`;\r\n                break;\r\n            case 2:\r\n                switch (targetChar) {\r\n                    case 1:\r\n                        this.desc = `Repousse de ${this.amount} case.`;\r\n                        break;\r\n                    case 2:\r\n                        this.desc = `Attire de ${this.amount} case.`;\r\n                        break;\r\n                    default:\r\n                        console.error('Le personnage ciblÃ© est incorrect');\r\n                        break;\r\n                };\r\n                break;\r\n            case 3:\r\n                this.desc = `Augmente de ${this.amount} les points de mouvement du personnage.`\r\n                break;\r\n            default:\r\n                console.error('Le type d\\'item est incorrect');\r\n            };\r\n            switch(targetChar) {\r\n                case 1:\r\n                    this.descChar = `<span class='tooltiptext--survivor'>Pour Survivant.</span>`;\r\n                    break;\r\n                case 2:\r\n                    this.descChar = `<span class='tooltiptext--chaser'>Pour Chaser.</span>`;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n    }\r\n}\r\n\r\nclass GameManager {\r\n    constructor() {\r\n        this.players = [\r\n            new Player(1, 1), new Player(2, 2)\r\n        ];\r\n        this.items = [\r\n            new Item('Machette', 0, 20, 2),\r\n            new Item('Hachoir', 0, 10, 2),\r\n            new Item('Piege', 0, 15, 2),\r\n            new Item('Grappin', 2, 1, 2),\r\n            new Item('Skate', 3, 1, 1),\r\n            new Item('Lance-pierre', 2, 1, 1),\r\n            new Item('Bandages', 1, 10, 1),\r\n        ];\r\n        this.turn = 1;\r\n        this.totalTurn = 0;\r\n        this.board = new Board(49);\r\n        this.activePlayer = 0;\r\n        \r\n    }\r\n\r\n    playerSpawn() {\r\n        for (let elem of this.players) {\r\n            let randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            while (this.board.tiles[randomTile].reachable === 0 || this.board.tiles[randomTile] instanceof Obstacle) {\r\n                randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            }\r\n            console.info(this.board.tiles[randomTile].reachable);\r\n            elem.char.setTile(this.board.tiles[randomTile].getPos()[0], this.board.tiles[randomTile].getPos()[1]);\r\n            this.board.tiles[randomTile].reachable = 0;\r\n\r\n        }\r\n    }\r\n\r\n    itemSpawn() {\r\n        for (let i = 0; i < 8; ++i) {\r\n            let randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            while (this.board.tiles[randomTile] instanceof Obstacle) {\r\n                randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            }\r\n            while (this.board.tiles[randomTile]._hasPlayer == 1) {\r\n                randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            }\r\n\r\n            let randomItem = Math.floor(Math.random() * this.items.length);\r\n            this.board.tiles[randomTile]._hasItem = [1, randomItem];\r\n        }\r\n    }\r\n\r\n    nextTurn() {\r\n        // TODO select first player based on character\r\n        // set active player each turn\r\n        // first player is the one with Adam\r\n        this.turn++;\r\n        if (this.turn % 2 == 0) {\r\n            this.totalTurn = turn / 2;\r\n        }\r\n    }\r\n\r\n    getPossibleMoves() {\r\n        this.removePossibleMoves();\r\n        let activePlayerChar = this.players[this.activePlayer].char;\r\n        this.possibleBottomMovesTiles = [];\r\n        this.possibleTopMovesTiles = [];\r\n        this.possibleLeftMovesTiles = [];\r\n        this.possibleRightMovesTiles = [];\r\n        this.possibleMovesIterator = [this.possibleBottomMovesTiles, this.possibleRightMovesTiles, this.possibleLeftMovesTiles, this.possibleTopMovesTiles];\r\n        for (let elem of this.possibleMovesIterator) {\r\n            for (let i = 1; i <= activePlayerChar.movementPoint; i++) {\r\n                if (elem[i - 1] instanceof Obstacle || elem[i - 2] instanceof Obstacle)\r\n                    continue;\r\n                if (elem[i - 1] instanceof EmptyTile && elem[i - 1]._hasPlayer == 1 || elem[i - 2] instanceof EmptyTile && elem[i - 2]._hasPlayer == 1)\r\n                    continue;\r\n                switch (elem) {\r\n                    case this.possibleBottomMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\r\n                        break;\r\n                    case this.possibleTopMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\r\n                        break;\r\n                    case this.possibleLeftMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\r\n                        break;\r\n                    case this.possibleRightMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleBottomMovesTiles[i-1] instanceof Obstacle || this.possibleBottomMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleBottomMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\r\n        // }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleTopMovesTiles[i-1] instanceof Obstacle || this.possibleTopMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleTopMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\r\n        // }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleRightMovesTiles[i-1] instanceof Obstacle || this.possibleRightMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleRightMovesTiles[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\r\n        // }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleLeftMovesTiles[i-1] instanceof Obstacle || this.possibleLeftMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleLeftMovesTiles[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\r\n        // }\r\n        this.possibleMovesTiles = [...this.possibleBottomMovesTiles, ...this.possibleLeftMovesTiles, ...this.possibleRightMovesTiles, ...this.possibleTopMovesTiles];\r\n\r\n        for (let tile of this.possibleMovesTiles) {\r\n            if (tile instanceof EmptyTile)\r\n                if (tile._hasPlayer != 1) {\r\n                    tile.reachable = 1;\r\n                }\r\n        };\r\n    }\r\n\r\n    removePossibleMoves() {\r\n        for (let tile in this.board.tiles) {\r\n            if (this.board.tiles[tile].reachable == 1) {\r\n                this.board.tiles[tile].reachable = 0;\r\n            }\r\n        }\r\n    }\r\n}\r\nlet Game = new GameManager();\r\nexport {\r\n    Game\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1574773316970
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\\\\modules\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\",\"filename\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\\\\modules\\\\game.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Dylan\\\\Projects\\\\GameFolder2\",\"plugins\":[],\"presets\":[]}:7.7.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Dylan\\Projects\\GameFolder2\\modules",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Dylan\\Projects\\GameFolder2",
      "filename": "C:\\Users\\Dylan\\Projects\\GameFolder2\\modules\\game.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Dylan\\Projects\\GameFolder2",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Dylan\\Projects\\GameFolder2\\modules\\game.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Dylan\\Projects\\GameFolder2\\modules\\game.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Dylan\\Projects\\GameFolder2\\modules",
        "sourceFileName": "game.js"
      }
    },
    "ast": null,
    "code": "class Observable {\n  constructor() {\n    this._listeners = [];\n  }\n\n  initProperties() {\n    for (let key of Object.keys(this)) {\n      const value = this[key];\n      if (['_listeners', 'dispatch'].includes(key)) continue;\n      Object.defineProperty(this, key, {\n        get: () => this[`_${key}`],\n        set: newValue => {\n          this[`_${key}`] = newValue;\n          this.dispatch();\n        }\n      });\n\n      if (value instanceof Observable) {\n        this[key].onChange(this.dispatch.bind(this));\n      }\n    }\n  } // onchange\n\n\n  onChange(listener) {\n    this._listeners.push(listener);\n  }\n\n  dispatch() {\n    for (let listener of this._listeners) {\n      if (typeof listener === 'function') listener(this);\n    }\n  }\n\n}\n\nclass Positionable extends Observable {\n  constructor(x, y) {\n    super();\n    this._x = x;\n    this._y = y;\n  }\n\n  setTile(x, y) {\n    this._x = x;\n    this._y = y;\n  }\n\n}\n\nclass Tile extends Positionable {\n  constructor(x, y) {\n    super(x, y);\n    this._hasPlayer = 0;\n  }\n\n  getPos() {\n    return [this._x, this._y];\n  }\n\n  isObstacle() {\n    if (this instanceof Obstacle) {\n      return true;\n    }\n  }\n\n  isEmpty() {\n    if (this instanceof EmptyTile) {\n      return true;\n    }\n  }\n\n  hasPlayer() {\n    for (let player of Game.players) {\n      if (this._x == player.char._x && this._y == player.char._y) {\n        return true;\n      }\n    }\n  }\n\n}\n\nclass EmptyTile extends Tile {\n  constructor(x, y) {\n    super(x, y);\n    this._type = 'Empty';\n    this._reachable = 1;\n    this._hasItem = [0];\n  }\n\n  set reachable(newVal) {\n    this._reachable = newVal;\n  }\n\n  get reachable() {\n    return this._reachable;\n  }\n\n}\n\nclass Escape extends Tile {\n  constructor(x, y) {\n    super(x, y);\n    this._type = 'Escape';\n  }\n\n}\n\nclass Obstacle extends Tile {\n  constructor(x, y) {\n    super(x, y);\n    this._type = 'Obstacle';\n    this._reachable = 0;\n  }\n\n}\n\nclass Barrel extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'Barrel';\n  }\n\n}\n\nclass BarbedWire extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'BarbedWire';\n  }\n\n}\n\nclass Woodbox extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'Woodbox';\n  }\n\n}\n\nclass PlayerCase extends Obstacle {\n  constructor(x, y) {\n    super(x, y);\n    this._model = 'Barrel';\n  }\n\n}\n\nclass Board {\n  constructor(maxTiles) {\n    this.tiles = [];\n    this.lineOfTiles = Math.floor(Math.sqrt(maxTiles));\n\n    for (let y = 0; y < this.lineOfTiles; ++y) {\n      for (let x = 0; x < this.lineOfTiles; ++x) {\n        let randomTileGenerator = Math.random();\n\n        if (randomTileGenerator < 0.8) {\n          this.tiles.push(new EmptyTile(x, y));\n        } else {\n          let randomObstacleGenerator = Math.random();\n\n          if (randomObstacleGenerator < 0.33) {\n            this.tiles.push(new Barrel(x, y));\n          } else if (randomObstacleGenerator < 0.66) {\n            this.tiles.push(new BarbedWire(x, y));\n          } else if (randomObstacleGenerator <= 1) {\n            this.tiles.push(new Woodbox(x, y));\n          }\n        }\n      }\n    }\n  }\n\n  getTile(x, y) {\n    for (let elem of this.tiles) {\n      if (elem._x == x && elem._y == y) {\n        return elem;\n      }\n    }\n  }\n\n}\n\nclass Movable extends Positionable {\n  constructor(x, y) {\n    super(x, y);\n    this.steps = [];\n  }\n\n  move(x, y) {\n    console.info(this._x);\n    console.info(x);\n\n    if (this._x != x) {\n      this.movementPoint -= Math.abs(x - this._x);\n      console.log('PM :' + this.movementPoint);\n    } else if (this._y != y) {\n      this.movementPoint -= Math.abs(y - this._y);\n    }\n\n    this.setTile(x, y);\n  }\n\n} // Character superclass\n\n\nclass Character extends Movable {\n  constructor(x, y) {\n    super(x, y);\n    this._equipedItem = {};\n    this.initProperties();\n  }\n\n  get movementPoint() {\n    return this._movementPoint;\n  }\n\n  set movementPoint(newVal) {\n    this._movementPoint = newVal;\n  }\n\n  get equipedItem() {\n    return this._equipedItem;\n  }\n\n  set equipedItem(newVal) {\n    this._equipedItem = Game.items[newVal];\n  }\n\n  getTile() {\n    return this._x + this._y * Math.floor(Math.sqrt(Game.board.tiles.length));\n  }\n\n  setTile(x, y) {\n    if (this._x != undefined && this._y != undefined) Game.board.getTile(this._x, this._y)._hasPlayer = 0;\n    super.setTile(x, y);\n    let newTile = Game.board.getTile(x, y);\n    newTile._hasPlayer = 1;\n\n    if (newTile._hasItem[0] == 1) {\n      let item = Game.items[newTile._hasItem[1]];\n      const charType = [Survivor, Chaser];\n\n      if (this instanceof charType[item.targetChar - 1]) {\n        this.equipItem(newTile._hasItem[1]);\n        newTile._hasItem = [0];\n        console.info(this.equipedItem);\n      }\n    }\n  }\n\n  move(x, y) {\n    super.move(x, y);\n    this.setTile(x, y);\n  }\n\n  equipItem(newItem) {\n    this.equipedItem = newItem;\n  }\n\n}\n\nclass Survivor extends Character {\n  constructor(x, y) {\n    super(x, y);\n    this._movementPoint = 3;\n    this._equipedItem = {\n      name: 'Poings'\n    };\n    this._health = 100;\n  }\n\n}\n\nclass Chaser extends Character {\n  constructor(x, y) {\n    super(x, y);\n    this._movementPoint = 2;\n    this._equipedItem = {\n      name: 'Planche'\n    };\n  }\n\n} // Logic\n\n\nclass Player {\n  constructor(number, desiredChar) {\n    this.number = number;\n\n    if (desiredChar == 1) {\n      this.char = new Survivor(4, 3);\n    } else {\n      this.char = new Chaser(2, 1);\n    }\n  }\n\n}\n\nclass Item {\n  constructor(name, type, amount, targetChar) {\n    this.itemsType = ['Damage', 'Healing', 'Mover', 'Boost'];\n    this.name = name;\n    this.type = this.itemsType[type];\n    this.amount = amount;\n    this.targetChar = targetChar;\n\n    switch (type) {\n      case 0:\n        this.desc = `Occasionne ${this.amount} de dommages.`;\n        break;\n\n      case 1:\n        this.desc = `Soigne ${this.amount} de points de vie.`;\n        break;\n\n      case 2:\n        switch (targetChar) {\n          case 1:\n            this.desc = `Repousse de ${this.amount} case.`;\n            break;\n\n          case 2:\n            this.desc = `Attire de ${this.amount} case.`;\n            break;\n\n          default:\n            console.error('Le personnage ciblÃ© est incorrect');\n            break;\n        }\n\n        ;\n        break;\n\n      case 3:\n        this.desc = `Augmente de ${this.amount} les points de mouvement du personnage.`;\n        break;\n\n      default:\n        console.error('Le type d\\'item est incorrect');\n    }\n\n    ;\n\n    switch (targetChar) {\n      case 1:\n        this.descChar = `<span class='tooltiptext--survivor'>Pour Survivant.</span>`;\n        break;\n\n      case 2:\n        this.descChar = `<span class='tooltiptext--chaser'>Pour Chaser.</span>`;\n        break;\n\n      default:\n        break;\n    }\n  }\n\n}\n\nclass GameManager {\n  constructor() {\n    this.players = [new Player(1, 1), new Player(2, 2)];\n    this.items = [new Item('Machette', 0, 20, 2), new Item('Hachoir', 0, 10, 2), new Item('Piege', 0, 15, 2), new Item('Grappin', 2, 1, 2), new Item('Skate', 3, 1, 1), new Item('Lance-pierre', 2, 1, 1), new Item('Bandages', 1, 10, 1)];\n    this.turn = 1;\n    this.totalTurn = 0;\n    this.board = new Board(49);\n    this.activePlayer = 0;\n  }\n\n  playerSpawn() {\n    for (let elem of this.players) {\n      let randomTile = Math.floor(Math.random() * this.board.tiles.length);\n\n      while (this.board.tiles[randomTile].reachable === 0 || this.board.tiles[randomTile] instanceof Obstacle) {\n        randomTile = Math.floor(Math.random() * this.board.tiles.length);\n      }\n\n      console.info(this.board.tiles[randomTile].reachable);\n      elem.char.setTile(this.board.tiles[randomTile].getPos()[0], this.board.tiles[randomTile].getPos()[1]);\n      this.board.tiles[randomTile].reachable = 0;\n    }\n  }\n\n  itemSpawn() {\n    for (let i = 0; i < 8; ++i) {\n      let randomTile = Math.floor(Math.random() * this.board.tiles.length);\n\n      while (this.board.tiles[randomTile] instanceof Obstacle) {\n        randomTile = Math.floor(Math.random() * this.board.tiles.length);\n      }\n\n      while (this.board.tiles[randomTile]._hasPlayer == 1) {\n        randomTile = Math.floor(Math.random() * this.board.tiles.length);\n      }\n\n      let randomItem = Math.floor(Math.random() * this.items.length);\n      this.board.tiles[randomTile]._hasItem = [1, randomItem];\n    }\n  }\n\n  nextTurn() {\n    // TODO select first player based on character\n    // set active player each turn\n    // first player is the one with Adam\n    this.turn++;\n\n    if (this.turn % 2 == 0) {\n      this.totalTurn = turn / 2;\n    }\n  }\n\n  getPossibleMoves() {\n    this.removePossibleMoves();\n    let activePlayerChar = this.players[this.activePlayer].char;\n    this.possibleBottomMovesTiles = [];\n    this.possibleTopMovesTiles = [];\n    this.possibleLeftMovesTiles = [];\n    this.possibleRightMovesTiles = [];\n    this.possibleMovesIterator = [this.possibleBottomMovesTiles, this.possibleRightMovesTiles, this.possibleLeftMovesTiles, this.possibleTopMovesTiles];\n\n    for (let elem of this.possibleMovesIterator) {\n      for (let i = 1; i <= activePlayerChar.movementPoint; i++) {\n        if (elem[i - 1] instanceof Obstacle || elem[i - 2] instanceof Obstacle) continue;\n        if (elem[i - 1] instanceof EmptyTile && elem[i - 1]._hasPlayer == 1 || elem[i - 2] instanceof EmptyTile && elem[i - 2]._hasPlayer == 1) continue;\n\n        switch (elem) {\n          case this.possibleBottomMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\n            break;\n\n          case this.possibleTopMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\n            break;\n\n          case this.possibleLeftMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\n            break;\n\n          case this.possibleRightMovesTiles:\n            elem[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\n            break;\n        }\n      }\n    } // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleBottomMovesTiles[i-1] instanceof Obstacle || this.possibleBottomMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleBottomMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\n    // }\n    // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleTopMovesTiles[i-1] instanceof Obstacle || this.possibleTopMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleTopMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\n    // }\n    // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleRightMovesTiles[i-1] instanceof Obstacle || this.possibleRightMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleRightMovesTiles[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\n    // }\n    // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\n    //     if( this.possibleLeftMovesTiles[i-1] instanceof Obstacle || this.possibleLeftMovesTiles[i-2] instanceof Obstacle)\n    //         continue;\n    //         this.possibleLeftMovesTiles[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\n    // }\n\n\n    this.possibleMovesTiles = [...this.possibleBottomMovesTiles, ...this.possibleLeftMovesTiles, ...this.possibleRightMovesTiles, ...this.possibleTopMovesTiles];\n\n    for (let tile of this.possibleMovesTiles) {\n      if (tile instanceof EmptyTile) if (tile._hasPlayer != 1) {\n        tile.reachable = 1;\n      }\n    }\n\n    ;\n  }\n\n  removePossibleMoves() {\n    for (let tile in this.board.tiles) {\n      if (this.board.tiles[tile].reachable == 1) {\n        this.board.tiles[tile].reachable = 0;\n      }\n    }\n  }\n\n}\n\nlet Game = new GameManager();\nexport { Game };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9nYW1lLmpzIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwiaW5pdFByb3BlcnRpZXMiLCJPYmplY3QiLCJ2YWx1ZSIsImdldCIsImtleSIsInNldCIsIm5ld1ZhbHVlIiwib25DaGFuZ2UiLCJkaXNwYXRjaCIsImxpc3RlbmVyIiwic2V0VGlsZSIsImdldFBvcyIsImlzT2JzdGFjbGUiLCJpc0VtcHR5IiwiaGFzUGxheWVyIiwiR2FtZSIsInBsYXllciIsIk1hdGgiLCJ5IiwieCIsInJhbmRvbVRpbGVHZW5lcmF0b3IiLCJyYW5kb21PYnN0YWNsZUdlbmVyYXRvciIsImdldFRpbGUiLCJlbGVtIiwibW92ZSIsImNvbnNvbGUiLCJuZXdUaWxlIiwiaXRlbSIsImNoYXJUeXBlIiwiZXF1aXBJdGVtIiwibmFtZSIsImRlc2lyZWRDaGFyIiwiYW1vdW50IiwicGxheWVyU3Bhd24iLCJyYW5kb21UaWxlIiwiaXRlbVNwYXduIiwiaSIsInJhbmRvbUl0ZW0iLCJuZXh0VHVybiIsInR1cm4iLCJnZXRQb3NzaWJsZU1vdmVzIiwiYWN0aXZlUGxheWVyQ2hhciIsInRpbGUiLCJyZW1vdmVQb3NzaWJsZU1vdmVzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBLFVBQUEsQ0FBaUI7QUFDYkEsRUFBQUEsV0FBVyxHQUFHO0FBQ1YsU0FBQSxVQUFBLEdBQUEsRUFBQTtBQUNIOztBQUVEQyxFQUFBQSxjQUFjLEdBQUc7QUFDYixTQUFLLElBQUwsR0FBQSxJQUFnQkMsTUFBTSxDQUFOQSxJQUFBQSxDQUFoQixJQUFnQkEsQ0FBaEIsRUFBbUM7QUFDL0IsWUFBTUMsS0FBSyxHQUFHLEtBQWQsR0FBYyxDQUFkO0FBQ0EsVUFBSSxDQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxDQUFKLEdBQUksQ0FBSixFQUE4QztBQUM5Q0QsTUFBQUEsTUFBTSxDQUFOQSxjQUFBQSxDQUFBQSxJQUFBQSxFQUFBQSxHQUFBQSxFQUFpQztBQUM3QkUsUUFBQUEsR0FBRyxFQUFFLE1B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SixDQUFBLEVBQTJDO0FBQ3ZDLGFBQUEsS0FBQSxDQUFBLEtBQUEsQ0FBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLENBQUE7QUFDSDtBQUNKO0FBQ0o7O0FBN0hhOztBQStIbEIsSUFBSTVCLElBQUksR0FBRyxJQUFYLFdBQVcsRUFBWDtBQUNBLFNBQUEsSUFBQSIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIE9ic2VydmFibGUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoWydfbGlzdGVuZXJzJywgJ2Rpc3BhdGNoJ10uaW5jbHVkZXMoa2V5KSkgY29udGludWU7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gdGhpc1tgXyR7a2V5fWBdLFxyXG4gICAgICAgICAgICAgICAgc2V0OiAobmV3VmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW2BfJHtrZXl9YF0gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNba2V5XS5vbkNoYW5nZSh0aGlzLmRpc3BhdGNoLmJpbmQodGhpcykpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb25jaGFuZ2VcclxuICAgIG9uQ2hhbmdlKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BhdGNoKCkge1xyXG4gICAgICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIHRoaXMuX2xpc3RlbmVycykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSBsaXN0ZW5lcih0aGlzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUG9zaXRpb25hYmxlIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl94ID0geDtcclxuICAgICAgICB0aGlzLl95ID0geTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUaWxlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLl94ID0geDtcclxuICAgICAgICB0aGlzLl95ID0geTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5jbGFzcyBUaWxlIGV4dGVuZHMgUG9zaXRpb25hYmxlIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9oYXNQbGF5ZXIgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBvcygpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuX3gsIHRoaXMuX3ldO1xyXG4gICAgfVxyXG5cclxuICAgIGlzT2JzdGFjbGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBPYnN0YWNsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbXB0eSgpIHtcclxuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEVtcHR5VGlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFzUGxheWVyKCkge1xyXG4gICAgICAgIGZvciAobGV0IHBsYXllciBvZiBHYW1lLnBsYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3ggPT0gcGxheWVyLmNoYXIuX3ggJiYgdGhpcy5feSA9PSBwbGF5ZXIuY2hhci5feSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVtcHR5VGlsZSBleHRlbmRzIFRpbGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSAnRW1wdHknO1xyXG4gICAgICAgIHRoaXMuX3JlYWNoYWJsZSA9IDE7XHJcbiAgICAgICAgdGhpcy5faGFzSXRlbSA9IFswXTtcclxuICAgIH1cclxuICAgIHNldCByZWFjaGFibGUobmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fcmVhY2hhYmxlID0gbmV3VmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWFjaGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWNoYWJsZTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXNjYXBlIGV4dGVuZHMgVGlsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9ICdFc2NhcGUnO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBPYnN0YWNsZSBleHRlbmRzIFRpbGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSAnT2JzdGFjbGUnO1xyXG4gICAgICAgIHRoaXMuX3JlYWNoYWJsZSA9IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEJhcnJlbCBleHRlbmRzIE9ic3RhY2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9tb2RlbCA9ICdCYXJyZWwnO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIEJhcmJlZFdpcmUgZXh0ZW5kcyBPYnN0YWNsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fbW9kZWwgPSAnQmFyYmVkV2lyZSc7XHJcblxyXG4gICAgfVxyXG59XHJcbmNsYXNzIFdvb2Rib3ggZXh0ZW5kcyBPYnN0YWNsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fbW9kZWwgPSAnV29vZGJveCc7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQbGF5ZXJDYXNlIGV4dGVuZHMgT2JzdGFjbGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX21vZGVsID0gJ0JhcnJlbCc7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuY2xhc3MgQm9hcmQge1xyXG4gICAgY29uc3RydWN0b3IobWF4VGlsZXMpIHtcclxuICAgICAgICB0aGlzLnRpbGVzID0gW107XHJcbiAgICAgICAgdGhpcy5saW5lT2ZUaWxlcyA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KG1heFRpbGVzKSk7XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmxpbmVPZlRpbGVzOyArK3kpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmxpbmVPZlRpbGVzOyArK3gpIHtcclxuICAgICAgICAgICAgICAgIGxldCByYW5kb21UaWxlR2VuZXJhdG9yID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5kb21UaWxlR2VuZXJhdG9yIDwgMC44KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlcy5wdXNoKG5ldyBFbXB0eVRpbGUoeCwgeSkpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5kb21PYnN0YWNsZUdlbmVyYXRvciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmRvbU9ic3RhY2xlR2VuZXJhdG9yIDwgMC4zMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnB1c2gobmV3IEJhcnJlbCh4LCB5KSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmRvbU9ic3RhY2xlR2VuZXJhdG9yIDwgMC42Nikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnB1c2gobmV3IEJhcmJlZFdpcmUoeCwgeSkpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZG9tT2JzdGFjbGVHZW5lcmF0b3IgPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVzLnB1c2gobmV3IFdvb2Rib3goeCwgeSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFRpbGUoeCwgeSkge1xyXG4gICAgICAgIGZvciAobGV0IGVsZW0gb2YgdGhpcy50aWxlcykge1xyXG4gICAgICAgICAgICBpZiAoZWxlbS5feCA9PSB4ICYmIGVsZW0uX3kgPT0geSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcbmNsYXNzIE1vdmFibGUgZXh0ZW5kcyBQb3NpdGlvbmFibGUge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuc3RlcHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKHgsIHkpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8odGhpcy5feCk7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKHgpO1xyXG4gICAgICAgIGlmICh0aGlzLl94ICE9IHgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFBvaW50IC09IE1hdGguYWJzKCh4IC0gdGhpcy5feCkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUE0gOicgKyB0aGlzLm1vdmVtZW50UG9pbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5feSAhPSB5KSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZW1lbnRQb2ludCAtPSBNYXRoLmFicygoeSAtIHRoaXMuX3kpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0VGlsZSh4LCB5KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vIENoYXJhY3RlciBzdXBlcmNsYXNzXHJcblxyXG5jbGFzcyBDaGFyYWN0ZXIgZXh0ZW5kcyBNb3ZhYmxlIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9lcXVpcGVkSXRlbSA9IHt9OyBcclxuICAgICAgICB0aGlzLmluaXRQcm9wZXJ0aWVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1vdmVtZW50UG9pbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmVtZW50UG9pbnRcclxuICAgIH1cclxuICAgIHNldCBtb3ZlbWVudFBvaW50KG5ld1ZhbCkge1xyXG4gICAgICAgIHRoaXMuX21vdmVtZW50UG9pbnQgPSBuZXdWYWxcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXF1aXBlZEl0ZW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VxdWlwZWRJdGVtXHJcbiAgICB9XHJcbiAgICBzZXQgZXF1aXBlZEl0ZW0obmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fZXF1aXBlZEl0ZW0gPSBHYW1lLml0ZW1zW25ld1ZhbF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGlsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5feCArICh0aGlzLl95ICogTWF0aC5mbG9vcihNYXRoLnNxcnQoR2FtZS5ib2FyZC50aWxlcy5sZW5ndGgpKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbGUoeCwgeSkge1xyXG4gICAgICAgIGlmICh0aGlzLl94ICE9IHVuZGVmaW5lZCAmJiB0aGlzLl95ICE9IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgR2FtZS5ib2FyZC5nZXRUaWxlKHRoaXMuX3gsIHRoaXMuX3kpLl9oYXNQbGF5ZXIgPSAwO1xyXG4gICAgICAgIHN1cGVyLnNldFRpbGUoeCwgeSk7XHJcbiAgICAgICAgbGV0IG5ld1RpbGUgPSBHYW1lLmJvYXJkLmdldFRpbGUoeCwgeSk7XHJcbiAgICAgICAgbmV3VGlsZS5faGFzUGxheWVyID0gMTtcclxuICAgICAgICBpZihuZXdUaWxlLl9oYXNJdGVtWzBdID09IDEpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IEdhbWUuaXRlbXNbbmV3VGlsZS5faGFzSXRlbVsxXV07XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXJUeXBlID0gW1N1cnZpdm9yLCBDaGFzZXJdO1xyXG4gICAgICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgY2hhclR5cGVbaXRlbS50YXJnZXRDaGFyIC0gMV0pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcEl0ZW0obmV3VGlsZS5faGFzSXRlbVsxXSk7XHJcbiAgICAgICAgICAgICAgICBuZXdUaWxlLl9oYXNJdGVtID0gWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKHRoaXMuZXF1aXBlZEl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKHgsIHkpIHtcclxuICAgICAgICBzdXBlci5tb3ZlKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuc2V0VGlsZSh4LCB5KTtcclxuICAgIH1cclxuXHJcbiAgICBlcXVpcEl0ZW0obmV3SXRlbSl7XHJcbiAgICAgICAgdGhpcy5lcXVpcGVkSXRlbSA9IG5ld0l0ZW07XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmNsYXNzIFN1cnZpdm9yIGV4dGVuZHMgQ2hhcmFjdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcih4LCB5KTtcclxuICAgICAgICB0aGlzLl9tb3ZlbWVudFBvaW50ID0gMztcclxuICAgICAgICB0aGlzLl9lcXVpcGVkSXRlbSA9IHtuYW1lOiAnUG9pbmdzJ307IFxyXG4gICAgICAgIHRoaXMuX2hlYWx0aCA9IDEwMDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmNsYXNzIENoYXNlciBleHRlbmRzIENoYXJhY3RlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fbW92ZW1lbnRQb2ludCA9IDI7XHJcbiAgICAgICAgdGhpcy5fZXF1aXBlZEl0ZW0gPSB7bmFtZTogJ1BsYW5jaGUnfTsgXHJcblxyXG5cclxuICAgIH1cclxufVxyXG5cclxuLy8gTG9naWNcclxuXHJcbmNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcihudW1iZXIsIGRlc2lyZWRDaGFyKSB7XHJcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XHJcbiAgICAgICAgaWYgKGRlc2lyZWRDaGFyID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFyID0gbmV3IFN1cnZpdm9yKDQsIDMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhciA9IG5ldyBDaGFzZXIoMiwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBJdGVtIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHR5cGUsIGFtb3VudCwgdGFyZ2V0Q2hhcikge1xyXG4gICAgICAgIHRoaXMuaXRlbXNUeXBlID0gWydEYW1hZ2UnLCAnSGVhbGluZycsICdNb3ZlcicsICdCb29zdCddO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy5pdGVtc1R5cGVbdHlwZV07XHJcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XHJcbiAgICAgICAgdGhpcy50YXJnZXRDaGFyID0gdGFyZ2V0Q2hhcjtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXNjID0gYE9jY2FzaW9ubmUgJHt0aGlzLmFtb3VudH0gZGUgZG9tbWFnZXMuYDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2MgPSBgU29pZ25lICR7dGhpcy5hbW91bnR9IGRlIHBvaW50cyBkZSB2aWUuYDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhcmdldENoYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzYyA9IGBSZXBvdXNzZSBkZSAke3RoaXMuYW1vdW50fSBjYXNlLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNjID0gYEF0dGlyZSBkZSAke3RoaXMuYW1vdW50fSBjYXNlLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xlIHBlcnNvbm5hZ2UgY2libMOpIGVzdCBpbmNvcnJlY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzYyA9IGBBdWdtZW50ZSBkZSAke3RoaXMuYW1vdW50fSBsZXMgcG9pbnRzIGRlIG1vdXZlbWVudCBkdSBwZXJzb25uYWdlLmBcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTGUgdHlwZSBkXFwnaXRlbSBlc3QgaW5jb3JyZWN0Jyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN3aXRjaCh0YXJnZXRDaGFyKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNjQ2hhciA9IGA8c3BhbiBjbGFzcz0ndG9vbHRpcHRleHQtLXN1cnZpdm9yJz5Qb3VyIFN1cnZpdmFudC48L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2NDaGFyID0gYDxzcGFuIGNsYXNzPSd0b29sdGlwdGV4dC0tY2hhc2VyJz5Qb3VyIENoYXNlci48L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgR2FtZU1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xyXG4gICAgICAgICAgICBuZXcgUGxheWVyKDEsIDEpLCBuZXcgUGxheWVyKDIsIDIpXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW1xyXG4gICAgICAgICAgICBuZXcgSXRlbSgnTWFjaGV0dGUnLCAwLCAyMCwgMiksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdIYWNob2lyJywgMCwgMTAsIDIpLFxyXG4gICAgICAgICAgICBuZXcgSXRlbSgnUGllZ2UnLCAwLCAxNSwgMiksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdHcmFwcGluJywgMiwgMSwgMiksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdTa2F0ZScsIDMsIDEsIDEpLFxyXG4gICAgICAgICAgICBuZXcgSXRlbSgnTGFuY2UtcGllcnJlJywgMiwgMSwgMSksXHJcbiAgICAgICAgICAgIG5ldyBJdGVtKCdCYW5kYWdlcycsIDEsIDEwLCAxKSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudHVybiA9IDE7XHJcbiAgICAgICAgdGhpcy50b3RhbFR1cm4gPSAwO1xyXG4gICAgICAgIHRoaXMuYm9hcmQgPSBuZXcgQm9hcmQoNDkpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUGxheWVyID0gMDtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwbGF5ZXJTcGF3bigpIHtcclxuICAgICAgICBmb3IgKGxldCBlbGVtIG9mIHRoaXMucGxheWVycykge1xyXG4gICAgICAgICAgICBsZXQgcmFuZG9tVGlsZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYm9hcmQudGlsZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuYm9hcmQudGlsZXNbcmFuZG9tVGlsZV0ucmVhY2hhYmxlID09PSAwIHx8IHRoaXMuYm9hcmQudGlsZXNbcmFuZG9tVGlsZV0gaW5zdGFuY2VvZiBPYnN0YWNsZSkge1xyXG4gICAgICAgICAgICAgICAgcmFuZG9tVGlsZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYm9hcmQudGlsZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8odGhpcy5ib2FyZC50aWxlc1tyYW5kb21UaWxlXS5yZWFjaGFibGUpO1xyXG4gICAgICAgICAgICBlbGVtLmNoYXIuc2V0VGlsZSh0aGlzLmJvYXJkLnRpbGVzW3JhbmRvbVRpbGVdLmdldFBvcygpWzBdLCB0aGlzLmJvYXJkLnRpbGVzW3JhbmRvbVRpbGVdLmdldFBvcygpWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZC50aWxlc1tyYW5kb21UaWxlXS5yZWFjaGFibGUgPSAwO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXRlbVNwYXduKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCByYW5kb21UaWxlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5ib2FyZC50aWxlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5ib2FyZC50aWxlc1tyYW5kb21UaWxlXSBpbnN0YW5jZW9mIE9ic3RhY2xlKSB7XHJcbiAgICAgICAgICAgICAgICByYW5kb21UaWxlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5ib2FyZC50aWxlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmJvYXJkLnRpbGVzW3JhbmRvbVRpbGVdLl9oYXNQbGF5ZXIgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmFuZG9tVGlsZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYm9hcmQudGlsZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHJhbmRvbUl0ZW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLml0ZW1zLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmQudGlsZXNbcmFuZG9tVGlsZV0uX2hhc0l0ZW0gPSBbMSwgcmFuZG9tSXRlbV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5leHRUdXJuKCkge1xyXG4gICAgICAgIC8vIFRPRE8gc2VsZWN0IGZpcnN0IHBsYXllciBiYXNlZCBvbiBjaGFyYWN0ZXJcclxuICAgICAgICAvLyBzZXQgYWN0aXZlIHBsYXllciBlYWNoIHR1cm5cclxuICAgICAgICAvLyBmaXJzdCBwbGF5ZXIgaXMgdGhlIG9uZSB3aXRoIEFkYW1cclxuICAgICAgICB0aGlzLnR1cm4rKztcclxuICAgICAgICBpZiAodGhpcy50dXJuICUgMiA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxUdXJuID0gdHVybiAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFBvc3NpYmxlTW92ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVQb3NzaWJsZU1vdmVzKCk7XHJcbiAgICAgICAgbGV0IGFjdGl2ZVBsYXllckNoYXIgPSB0aGlzLnBsYXllcnNbdGhpcy5hY3RpdmVQbGF5ZXJdLmNoYXI7XHJcbiAgICAgICAgdGhpcy5wb3NzaWJsZUJvdHRvbU1vdmVzVGlsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnBvc3NpYmxlVG9wTW92ZXNUaWxlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucG9zc2libGVSaWdodE1vdmVzVGlsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnBvc3NpYmxlTW92ZXNJdGVyYXRvciA9IFt0aGlzLnBvc3NpYmxlQm90dG9tTW92ZXNUaWxlcywgdGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlcywgdGhpcy5wb3NzaWJsZUxlZnRNb3Zlc1RpbGVzLCB0aGlzLnBvc3NpYmxlVG9wTW92ZXNUaWxlc107XHJcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiB0aGlzLnBvc3NpYmxlTW92ZXNJdGVyYXRvcikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBhY3RpdmVQbGF5ZXJDaGFyLm1vdmVtZW50UG9pbnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1baSAtIDFdIGluc3RhbmNlb2YgT2JzdGFjbGUgfHwgZWxlbVtpIC0gMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtW2kgLSAxXSBpbnN0YW5jZW9mIEVtcHR5VGlsZSAmJiBlbGVtW2kgLSAxXS5faGFzUGxheWVyID09IDEgfHwgZWxlbVtpIC0gMl0gaW5zdGFuY2VvZiBFbXB0eVRpbGUgJiYgZWxlbVtpIC0gMl0uX2hhc1BsYXllciA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLnBvc3NpYmxlQm90dG9tTW92ZXNUaWxlczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94LCBhY3RpdmVQbGF5ZXJDaGFyLl95ICsgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1baV0gPSB0aGlzLmJvYXJkLmdldFRpbGUoYWN0aXZlUGxheWVyQ2hhci5feCwgYWN0aXZlUGxheWVyQ2hhci5feSAtIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94IC0gaSwgYWN0aXZlUGxheWVyQ2hhci5feSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVtpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94ICsgaSwgYWN0aXZlUGxheWVyQ2hhci5feSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IGFjdGl2ZVBsYXllckNoYXIubW92ZW1lbnRQb2ludDsgaSsrKXtcclxuICAgICAgICAvLyAgICAgaWYoIHRoaXMucG9zc2libGVCb3R0b21Nb3Zlc1RpbGVzW2ktMV0gaW5zdGFuY2VvZiBPYnN0YWNsZSB8fCB0aGlzLnBvc3NpYmxlQm90dG9tTW92ZXNUaWxlc1tpLTJdIGluc3RhbmNlb2YgT2JzdGFjbGUpXHJcbiAgICAgICAgLy8gICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMucG9zc2libGVCb3R0b21Nb3Zlc1RpbGVzW2ldID0gdGhpcy5ib2FyZC5nZXRUaWxlKGFjdGl2ZVBsYXllckNoYXIuX3gsIGFjdGl2ZVBsYXllckNoYXIuX3kgKyBpKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDE7IGkgPD0gYWN0aXZlUGxheWVyQ2hhci5tb3ZlbWVudFBvaW50OyBpKyspe1xyXG4gICAgICAgIC8vICAgICBpZiggdGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXNbaS0xXSBpbnN0YW5jZW9mIE9ic3RhY2xlIHx8IHRoaXMucG9zc2libGVUb3BNb3Zlc1RpbGVzW2ktMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAvLyAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXNbaV0gPSB0aGlzLmJvYXJkLmdldFRpbGUoYWN0aXZlUGxheWVyQ2hhci5feCwgYWN0aXZlUGxheWVyQ2hhci5feSAtIGkpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBmb3IgKGxldCBpID0gMTsgaSA8PSBhY3RpdmVQbGF5ZXJDaGFyLm1vdmVtZW50UG9pbnQ7IGkrKyl7XHJcbiAgICAgICAgLy8gICAgIGlmKCB0aGlzLnBvc3NpYmxlUmlnaHRNb3Zlc1RpbGVzW2ktMV0gaW5zdGFuY2VvZiBPYnN0YWNsZSB8fCB0aGlzLnBvc3NpYmxlUmlnaHRNb3Zlc1RpbGVzW2ktMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAvLyAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlc1tpXSA9IHRoaXMuYm9hcmQuZ2V0VGlsZShhY3RpdmVQbGF5ZXJDaGFyLl94ICsgaSwgYWN0aXZlUGxheWVyQ2hhci5feSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IGFjdGl2ZVBsYXllckNoYXIubW92ZW1lbnRQb2ludDsgaSsrKXtcclxuICAgICAgICAvLyAgICAgaWYoIHRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlc1tpLTFdIGluc3RhbmNlb2YgT2JzdGFjbGUgfHwgdGhpcy5wb3NzaWJsZUxlZnRNb3Zlc1RpbGVzW2ktMl0gaW5zdGFuY2VvZiBPYnN0YWNsZSlcclxuICAgICAgICAvLyAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5wb3NzaWJsZUxlZnRNb3Zlc1RpbGVzW2ldID0gdGhpcy5ib2FyZC5nZXRUaWxlKGFjdGl2ZVBsYXllckNoYXIuX3ggLSBpLCBhY3RpdmVQbGF5ZXJDaGFyLl95KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5wb3NzaWJsZU1vdmVzVGlsZXMgPSBbLi4udGhpcy5wb3NzaWJsZUJvdHRvbU1vdmVzVGlsZXMsIC4uLnRoaXMucG9zc2libGVMZWZ0TW92ZXNUaWxlcywgLi4udGhpcy5wb3NzaWJsZVJpZ2h0TW92ZXNUaWxlcywgLi4udGhpcy5wb3NzaWJsZVRvcE1vdmVzVGlsZXNdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB0aWxlIG9mIHRoaXMucG9zc2libGVNb3Zlc1RpbGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aWxlIGluc3RhbmNlb2YgRW1wdHlUaWxlKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRpbGUuX2hhc1BsYXllciAhPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5yZWFjaGFibGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlUG9zc2libGVNb3ZlcygpIHtcclxuICAgICAgICBmb3IgKGxldCB0aWxlIGluIHRoaXMuYm9hcmQudGlsZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmQudGlsZXNbdGlsZV0ucmVhY2hhYmxlID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQudGlsZXNbdGlsZV0ucmVhY2hhYmxlID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5sZXQgR2FtZSA9IG5ldyBHYW1lTWFuYWdlcigpO1xyXG5leHBvcnQge1xyXG4gICAgR2FtZVxyXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "../src/game.js"
      ],
      "names": [
        "constructor",
        "initProperties",
        "Object",
        "value",
        "get",
        "key",
        "set",
        "newValue",
        "onChange",
        "dispatch",
        "listener",
        "setTile",
        "getPos",
        "isObstacle",
        "isEmpty",
        "hasPlayer",
        "Game",
        "player",
        "Math",
        "y",
        "x",
        "randomTileGenerator",
        "randomObstacleGenerator",
        "getTile",
        "elem",
        "move",
        "console",
        "newTile",
        "item",
        "charType",
        "equipItem",
        "name",
        "desiredChar",
        "amount",
        "playerSpawn",
        "randomTile",
        "itemSpawn",
        "i",
        "randomItem",
        "nextTurn",
        "turn",
        "getPossibleMoves",
        "activePlayerChar",
        "tile",
        "removePossibleMoves"
      ],
      "mappings": "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",
      "sourcesContent": [
        "class Observable {\r\n    constructor() {\r\n        this._listeners = [];\r\n    }\r\n\r\n    initProperties() {\r\n        for (let key of Object.keys(this)) {\r\n            const value = this[key];\r\n            if (['_listeners', 'dispatch'].includes(key)) continue;\r\n            Object.defineProperty(this, key, {\r\n                get: () => this[`_${key}`],\r\n                set: (newValue) => {\r\n                    this[`_${key}`] = newValue;\r\n                    this.dispatch()\r\n                }\r\n            })\r\n\r\n            if (value instanceof Observable) {\r\n                this[key].onChange(this.dispatch.bind(this))\r\n            }\r\n        }\r\n    }\r\n\r\n    // onchange\r\n    onChange(listener) {\r\n        this._listeners.push(listener);\r\n    }\r\n\r\n    dispatch() {\r\n        for (let listener of this._listeners) {\r\n            if (typeof listener === 'function') listener(this)\r\n        }\r\n    }\r\n}\r\n\r\nclass Positionable extends Observable {\r\n    constructor(x, y) {\r\n        super();\r\n        this._x = x;\r\n        this._y = y;\r\n    }\r\n\r\n    setTile(x, y) {\r\n        this._x = x;\r\n        this._y = y;\r\n    }\r\n}\r\n\r\n\r\n\r\nclass Tile extends Positionable {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._hasPlayer = 0;\r\n    }\r\n\r\n    getPos() {\r\n        return [this._x, this._y];\r\n    }\r\n\r\n    isObstacle() {\r\n        if (this instanceof Obstacle) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    isEmpty() {\r\n        if (this instanceof EmptyTile) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    hasPlayer() {\r\n        for (let player of Game.players) {\r\n            if (this._x == player.char._x && this._y == player.char._y) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass EmptyTile extends Tile {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._type = 'Empty';\r\n        this._reachable = 1;\r\n        this._hasItem = [0];\r\n    }\r\n    set reachable(newVal) {\r\n        this._reachable = newVal;\r\n    }\r\n\r\n    get reachable() {\r\n        return this._reachable;\r\n    }\r\n}\r\n\r\nclass Escape extends Tile {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._type = 'Escape';\r\n    }\r\n}\r\n\r\nclass Obstacle extends Tile {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._type = 'Obstacle';\r\n        this._reachable = 0;\r\n    }\r\n}\r\n\r\nclass Barrel extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'Barrel';\r\n    }\r\n}\r\nclass BarbedWire extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'BarbedWire';\r\n\r\n    }\r\n}\r\nclass Woodbox extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'Woodbox';\r\n\r\n    }\r\n}\r\n\r\nclass PlayerCase extends Obstacle {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._model = 'Barrel';\r\n\r\n    }\r\n}\r\n\r\n\r\nclass Board {\r\n    constructor(maxTiles) {\r\n        this.tiles = [];\r\n        this.lineOfTiles = Math.floor(Math.sqrt(maxTiles));\r\n        for (let y = 0; y < this.lineOfTiles; ++y) {\r\n            for (let x = 0; x < this.lineOfTiles; ++x) {\r\n                let randomTileGenerator = Math.random();\r\n                if (randomTileGenerator < 0.8) {\r\n                    this.tiles.push(new EmptyTile(x, y))\r\n                } else {\r\n                    let randomObstacleGenerator = Math.random();\r\n                    \r\n                    if (randomObstacleGenerator < 0.33) {\r\n                        this.tiles.push(new Barrel(x, y))\r\n                    } else if (randomObstacleGenerator < 0.66) {\r\n                        this.tiles.push(new BarbedWire(x, y))\r\n\r\n                    } else if (randomObstacleGenerator <= 1) {\r\n                        this.tiles.push(new Woodbox(x, y))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getTile(x, y) {\r\n        for (let elem of this.tiles) {\r\n            if (elem._x == x && elem._y == y) {\r\n                return elem;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nclass Movable extends Positionable {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this.steps = [];\r\n    }\r\n\r\n    move(x, y) {\r\n        console.info(this._x);\r\n        console.info(x);\r\n        if (this._x != x) {\r\n            this.movementPoint -= Math.abs((x - this._x));\r\n            console.log('PM :' + this.movementPoint);\r\n        } else if (this._y != y) {\r\n            this.movementPoint -= Math.abs((y - this._y));\r\n\r\n        }\r\n        this.setTile(x, y)\r\n    }\r\n\r\n}\r\n\r\n\r\n// Character superclass\r\n\r\nclass Character extends Movable {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._equipedItem = {}; \r\n        this.initProperties();\r\n    }\r\n\r\n    get movementPoint() {\r\n        return this._movementPoint\r\n    }\r\n    set movementPoint(newVal) {\r\n        this._movementPoint = newVal\r\n    }\r\n\r\n    get equipedItem() {\r\n        return this._equipedItem\r\n    }\r\n    set equipedItem(newVal) {\r\n        this._equipedItem = Game.items[newVal];\r\n    }\r\n\r\n    getTile() {\r\n        return this._x + (this._y * Math.floor(Math.sqrt(Game.board.tiles.length)));\r\n\r\n    }\r\n\r\n    setTile(x, y) {\r\n        if (this._x != undefined && this._y != undefined)\r\n            Game.board.getTile(this._x, this._y)._hasPlayer = 0;\r\n        super.setTile(x, y);\r\n        let newTile = Game.board.getTile(x, y);\r\n        newTile._hasPlayer = 1;\r\n        if(newTile._hasItem[0] == 1){\r\n            let item = Game.items[newTile._hasItem[1]];\r\n            const charType = [Survivor, Chaser];\r\n            if(this instanceof charType[item.targetChar - 1]){\r\n                this.equipItem(newTile._hasItem[1]);\r\n                newTile._hasItem = [0];\r\n                console.info(this.equipedItem);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    move(x, y) {\r\n        super.move(x, y);\r\n        this.setTile(x, y);\r\n    }\r\n\r\n    equipItem(newItem){\r\n        this.equipedItem = newItem;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nclass Survivor extends Character {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._movementPoint = 3;\r\n        this._equipedItem = {name: 'Poings'}; \r\n        this._health = 100;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nclass Chaser extends Character {\r\n    constructor(x, y) {\r\n        super(x, y);\r\n        this._movementPoint = 2;\r\n        this._equipedItem = {name: 'Planche'}; \r\n\r\n\r\n    }\r\n}\r\n\r\n// Logic\r\n\r\nclass Player {\r\n    constructor(number, desiredChar) {\r\n        this.number = number;\r\n        if (desiredChar == 1) {\r\n            this.char = new Survivor(4, 3);\r\n        } else {\r\n            this.char = new Chaser(2, 1);\r\n        }\r\n    }\r\n}\r\n\r\nclass Item {\r\n    constructor(name, type, amount, targetChar) {\r\n        this.itemsType = ['Damage', 'Healing', 'Mover', 'Boost'];\r\n        this.name = name;\r\n        this.type = this.itemsType[type];\r\n        this.amount = amount;\r\n        this.targetChar = targetChar;\r\n        switch (type) {\r\n            case 0:\r\n                this.desc = `Occasionne ${this.amount} de dommages.`;\r\n                break;\r\n            case 1:\r\n                this.desc = `Soigne ${this.amount} de points de vie.`;\r\n                break;\r\n            case 2:\r\n                switch (targetChar) {\r\n                    case 1:\r\n                        this.desc = `Repousse de ${this.amount} case.`;\r\n                        break;\r\n                    case 2:\r\n                        this.desc = `Attire de ${this.amount} case.`;\r\n                        break;\r\n                    default:\r\n                        console.error('Le personnage ciblÃ© est incorrect');\r\n                        break;\r\n                };\r\n                break;\r\n            case 3:\r\n                this.desc = `Augmente de ${this.amount} les points de mouvement du personnage.`\r\n                break;\r\n            default:\r\n                console.error('Le type d\\'item est incorrect');\r\n            };\r\n            switch(targetChar) {\r\n                case 1:\r\n                    this.descChar = `<span class='tooltiptext--survivor'>Pour Survivant.</span>`;\r\n                    break;\r\n                case 2:\r\n                    this.descChar = `<span class='tooltiptext--chaser'>Pour Chaser.</span>`;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n    }\r\n}\r\n\r\nclass GameManager {\r\n    constructor() {\r\n        this.players = [\r\n            new Player(1, 1), new Player(2, 2)\r\n        ];\r\n        this.items = [\r\n            new Item('Machette', 0, 20, 2),\r\n            new Item('Hachoir', 0, 10, 2),\r\n            new Item('Piege', 0, 15, 2),\r\n            new Item('Grappin', 2, 1, 2),\r\n            new Item('Skate', 3, 1, 1),\r\n            new Item('Lance-pierre', 2, 1, 1),\r\n            new Item('Bandages', 1, 10, 1),\r\n        ];\r\n        this.turn = 1;\r\n        this.totalTurn = 0;\r\n        this.board = new Board(49);\r\n        this.activePlayer = 0;\r\n        \r\n    }\r\n\r\n    playerSpawn() {\r\n        for (let elem of this.players) {\r\n            let randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            while (this.board.tiles[randomTile].reachable === 0 || this.board.tiles[randomTile] instanceof Obstacle) {\r\n                randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            }\r\n            console.info(this.board.tiles[randomTile].reachable);\r\n            elem.char.setTile(this.board.tiles[randomTile].getPos()[0], this.board.tiles[randomTile].getPos()[1]);\r\n            this.board.tiles[randomTile].reachable = 0;\r\n\r\n        }\r\n    }\r\n\r\n    itemSpawn() {\r\n        for (let i = 0; i < 8; ++i) {\r\n            let randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            while (this.board.tiles[randomTile] instanceof Obstacle) {\r\n                randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            }\r\n            while (this.board.tiles[randomTile]._hasPlayer == 1) {\r\n                randomTile = Math.floor(Math.random() * this.board.tiles.length);\r\n            }\r\n\r\n            let randomItem = Math.floor(Math.random() * this.items.length);\r\n            this.board.tiles[randomTile]._hasItem = [1, randomItem];\r\n        }\r\n    }\r\n\r\n    nextTurn() {\r\n        // TODO select first player based on character\r\n        // set active player each turn\r\n        // first player is the one with Adam\r\n        this.turn++;\r\n        if (this.turn % 2 == 0) {\r\n            this.totalTurn = turn / 2;\r\n        }\r\n    }\r\n\r\n    getPossibleMoves() {\r\n        this.removePossibleMoves();\r\n        let activePlayerChar = this.players[this.activePlayer].char;\r\n        this.possibleBottomMovesTiles = [];\r\n        this.possibleTopMovesTiles = [];\r\n        this.possibleLeftMovesTiles = [];\r\n        this.possibleRightMovesTiles = [];\r\n        this.possibleMovesIterator = [this.possibleBottomMovesTiles, this.possibleRightMovesTiles, this.possibleLeftMovesTiles, this.possibleTopMovesTiles];\r\n        for (let elem of this.possibleMovesIterator) {\r\n            for (let i = 1; i <= activePlayerChar.movementPoint; i++) {\r\n                if (elem[i - 1] instanceof Obstacle || elem[i - 2] instanceof Obstacle)\r\n                    continue;\r\n                if (elem[i - 1] instanceof EmptyTile && elem[i - 1]._hasPlayer == 1 || elem[i - 2] instanceof EmptyTile && elem[i - 2]._hasPlayer == 1)\r\n                    continue;\r\n                switch (elem) {\r\n                    case this.possibleBottomMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\r\n                        break;\r\n                    case this.possibleTopMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\r\n                        break;\r\n                    case this.possibleLeftMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\r\n                        break;\r\n                    case this.possibleRightMovesTiles:\r\n                        elem[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleBottomMovesTiles[i-1] instanceof Obstacle || this.possibleBottomMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleBottomMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y + i);\r\n        // }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleTopMovesTiles[i-1] instanceof Obstacle || this.possibleTopMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleTopMovesTiles[i] = this.board.getTile(activePlayerChar._x, activePlayerChar._y - i);\r\n        // }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleRightMovesTiles[i-1] instanceof Obstacle || this.possibleRightMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleRightMovesTiles[i] = this.board.getTile(activePlayerChar._x + i, activePlayerChar._y);\r\n        // }\r\n        // for (let i = 1; i <= activePlayerChar.movementPoint; i++){\r\n        //     if( this.possibleLeftMovesTiles[i-1] instanceof Obstacle || this.possibleLeftMovesTiles[i-2] instanceof Obstacle)\r\n        //         continue;\r\n        //         this.possibleLeftMovesTiles[i] = this.board.getTile(activePlayerChar._x - i, activePlayerChar._y);\r\n        // }\r\n        this.possibleMovesTiles = [...this.possibleBottomMovesTiles, ...this.possibleLeftMovesTiles, ...this.possibleRightMovesTiles, ...this.possibleTopMovesTiles];\r\n\r\n        for (let tile of this.possibleMovesTiles) {\r\n            if (tile instanceof EmptyTile)\r\n                if (tile._hasPlayer != 1) {\r\n                    tile.reachable = 1;\r\n                }\r\n        };\r\n    }\r\n\r\n    removePossibleMoves() {\r\n        for (let tile in this.board.tiles) {\r\n            if (this.board.tiles[tile].reachable == 1) {\r\n                this.board.tiles[tile].reachable = 0;\r\n            }\r\n        }\r\n    }\r\n}\r\nlet Game = new GameManager();\r\nexport {\r\n    Game\r\n}"
      ]
    },
    "sourceType": "module",
    "mtime": 1574774285933
  }
}